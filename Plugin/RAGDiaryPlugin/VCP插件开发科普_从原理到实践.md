# VCP æ’ä»¶å¼€å‘æŒ‡åŒ—ï¼šä»åŸç†åˆ°å®è·µ

> **ç¤¾åŒºç§‘æ™®æ–‡ç« **
>
> **ä½œè€…**: è·¯è¾¹ä¸€æ¡å°ç™½ & å¹½æµ®å–µ
> *(åªæ˜¯ç¤¾åŒºçˆ±å¥½è€…ï¼Œæƒ³æŠŠ VCP è¿™ä¸ªå¥½ä¸œè¥¿åˆ†äº«ç»™å¤§å®¶ (Â´ï½¡â€¢ áµ• â€¢ï½¡`))*
>
> **æœ€åæ›´æ–°**: 2025å¹´
> **é€‚ç”¨èŒƒå›´**: VCP ToolBox æ’ä»¶ç³»ç»Ÿ

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

è¿™æ˜¯ä¸€ç¯‡é‡‡ç”¨**äº’åŠ¨æ€è€ƒ**æ–¹å¼æ’°å†™çš„æŠ€æœ¯æ–‡æ¡£ï¼Œé€šè¿‡é—®ç­”å½¢å¼å¸®åŠ©æ‚¨æ·±å…¥ç†è§£ VCP æ’ä»¶ç³»ç»Ÿçš„è®¾è®¡ç†å¿µã€æŠ€æœ¯ä¼˜åŠ¿å’Œå®è·µæ–¹æ³•ã€‚

**é˜…è¯»å»ºè®®**ï¼š
- ğŸŒŸ **åˆå­¦è€…**ï¼šæŒ‰ç« èŠ‚é¡ºåºé˜…è¯»ï¼Œç†è§£åŸºç¡€æ¦‚å¿µ
- ğŸš€ **æœ‰ç»éªŒçš„å¼€å‘è€…**ï¼šå¯ç›´æ¥è·³è½¬åˆ°æ„Ÿå…´è¶£çš„ç« èŠ‚
- ğŸ’¡ **æ¶æ„è®¾è®¡è€…**ï¼šé‡ç‚¹å…³æ³¨ç¬¬ 2 ç« å’Œç¬¬ 5 ç« 

---

## ç›®å½•

0. [è¯ç”Ÿè®°ï¼šä» MCP çš„å™©æ¢¦åˆ° VCP çš„è¯ç”Ÿ](#ç¬¬0ç« è¯ç”Ÿè®°ä»-mcp-çš„å™©æ¢¦åˆ°-vcp-çš„è¯ç”Ÿ) ğŸŒŸ
1. [VCP ç›¸å¯¹äº MCP çš„æ ¸å¿ƒä¼˜åŠ¿](#ç¬¬1ç« vcp-ç›¸å¯¹äº-mcp-çš„æ ¸å¿ƒä¼˜åŠ¿)
2. [ä» MCP è¿ç§»åˆ° VCPï¼šå®æˆ˜æŒ‡å—](#ç¬¬2ç« ä»-mcp-è¿ç§»åˆ°-vcpå®æˆ˜æŒ‡å—)
3. [å¼€å§‹å¼€å‘ï¼šå®˜æ–¹èµ„æºæŒ‡å¼•](#ç¬¬3ç« å¼€å§‹å¼€å‘å®˜æ–¹èµ„æºæŒ‡å¼•)

**æœ¬æ–‡æ¡£èšç„¦äº**ï¼š
- âœ¨ VCP çš„è¯ç”ŸèƒŒæ™¯å’Œè®¾è®¡ç†å¿µ
- âš¡ VCP vs MCP çš„æ€§èƒ½å¯¹æ¯”å’ŒæŠ€æœ¯ä¼˜åŠ¿
- ğŸš€ MCP Server åˆ° VCP æ’ä»¶çš„è¿ç§»æ–¹æ³•
- ğŸ“– å®˜æ–¹å¼€å‘èµ„æºçš„å¯¼èˆª

**å…³äºè¯¦ç»†çš„æ’ä»¶å¼€å‘**ï¼š
è¯·å‚è€ƒ VCP å®˜æ–¹æä¾›çš„å®Œæ•´å¼€å‘æ‰‹å†Œï¼š
- ğŸ“˜ [åŒæ­¥å¼‚æ­¥æ’ä»¶å¼€å‘æ‰‹å†Œ.md](../../åŒæ­¥å¼‚æ­¥æ’ä»¶å¼€å‘æ‰‹å†Œ.md) - å®Œæ•´çš„æ’ä»¶å¼€å‘æŒ‡å—
- ğŸŒ [VCP å®˜æ–¹ GitHub](https://github.com/lioensky/VCPToolBox) - æœ€æ–°æ–‡æ¡£å’Œç¤ºä¾‹

---

## ç¬¬0ç« ï¼šè¯ç”Ÿè®°ï¼šä» MCP çš„å™©æ¢¦åˆ° VCP çš„è¯ç”Ÿ

### ğŸ’­ Q0: ç­‰ç­‰ï¼Œå…ˆåˆ«æ€¥ç€è®²æ’ä»¶ï¼VCP åˆ°åº•æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ

**A**: å“ˆå“ˆï¼Œè¿™æ˜¯ä¸ªéå¸¸å¥½çš„é—®é¢˜å–µï½è®©æµ®æµ®é…±ç»™ä½ è®²è®²è¿™æ®µ"è¡€æ³ªå²" >_<|||

### ğŸ“– æ•…äº‹å¼€å§‹äº 2024 å¹´åº•...

**åœºæ™¯ 1: MCP çš„ç¾å¥½æ‰¿è¯º**

2024 å¹´ï¼ŒAnthropic å‘å¸ƒäº† MCP (Model Context Protocol)ï¼Œå®£ç§°è¿™æ˜¯ AI å·¥å…·è°ƒç”¨çš„"ç»Ÿä¸€æ ‡å‡†"ã€‚æ‰€æœ‰å¼€å‘è€…éƒ½æ¿€åŠ¨äº†ï¼š

> "å¤ªæ£’äº†ï¼ç»ˆäºæœ‰æ ‡å‡†äº†ï¼"
> "ä»¥åå†™ä¸€ä¸ª MCP Server å°±èƒ½åœ¨æ‰€æœ‰ AI å¹³å°ä½¿ç”¨ï¼"
> "è¿™å°±æ˜¯ AI å·¥å…·çš„ USB æ¥å£å•Šï¼"

ç„¶å...å¼€å‘è€…ä»¬å¼€å§‹å°è¯•å†™ç¬¬ä¸€ä¸ª MCP Server...

**åœºæ™¯ 2: MCP å¼€å‘çš„æ®‹é…·ç°å®** (Â°ãƒ¼Â°ã€ƒ)

```typescript
// ç¬¬ 1 æ­¥ï¼šå®‰è£…ä¾èµ–ï¼ˆçœ‹èµ·æ¥è¿˜ä¸é”™ï¼‰
npm install @modelcontextprotocol/sdk

// ç¬¬ 2 æ­¥ï¼šå†™ä¸€ä¸ªæœ€ç®€å•çš„å·¥å…·
import { Server } from '@modelcontextprotocol/sdk/server';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio';

const server = new Server({
  name: 'my-simple-tool',
  version: '1.0.0'
}, {
  capabilities: { tools: {} }
});

// ç¬¬ 3 æ­¥ï¼šå®ç°å·¥å…·åˆ—è¡¨
server.setRequestHandler('tools/list', async () => ({
  tools: [{
    name: 'hello',
    description: 'Say hello',
    inputSchema: {
      type: 'object',
      properties: {
        name: { type: 'string' }
      },
      required: ['name']
    }
  }]
}));

// ç¬¬ 4 æ­¥ï¼šå®ç°å·¥å…·è°ƒç”¨
server.setRequestHandler('tools/call', async (request) => {
  const { name, arguments: args } = request.params;
  if (name === 'hello') {
    return {
      content: [{
        type: 'text',
        text: `Hello, ${args.name}!`
      }]
    };
  }
});

// ç¬¬ 5 æ­¥ï¼šå¯åŠ¨æœåŠ¡å™¨
const transport = new StdioServerTransport();
await server.connect(transport);
```

çœ‹èµ·æ¥è¿˜è¡Œï¼Ÿ**ç„¶åç°å®ç»™äº†ä½ ä¸€è®°é‡æ‹³** (ï¿£^ï¿£)ï¼š

1. **TypeScript å¼ºåˆ¶ç—‡**: ä¸ä¼š TypeScriptï¼Ÿé‚£ä½ å°±åˆ«æƒ³ç”¨ MCP äº†
2. **å¼‚æ­¥åœ°ç‹±**: `async/await` æ»¡å¤©é£ï¼Œé”™ä¸€ä¸ªåœ°æ–¹å¡æ­»ç»™ä½ çœ‹
3. **è°ƒè¯•å™©æ¢¦**: STDIO åè®®æ€ä¹ˆè°ƒè¯•ï¼Ÿ`console.log` ä¸€åŠ å°±ç‚¸
4. **é”™è¯¯ä¿¡æ¯è¿·å®«**: å‡ºé”™äº†ï¼Ÿç»™ä½ ä¸€å † `UnhandledPromiseRejection`ï¼Œç¥ä½ å¥½è¿
5. **æ–‡æ¡£ç¨€ç¼º**: å®˜æ–¹ç¤ºä¾‹å°±é‚£ä¹ˆå‡ ä¸ªï¼Œæƒ³åšç‚¹å¤æ‚çš„ï¼Ÿè‡ªå·±æ‘¸ç´¢å§
6. **éƒ¨ç½²å¤æ‚**: å†™å®Œäº†ï¼Ÿæ­å–œä½ ï¼Œç°åœ¨å¼€å§‹é…ç½® `mcp-config.json`ã€å¤„ç†è¿›ç¨‹ç®¡ç†ã€æå®šç¯å¢ƒå˜é‡...

**çœŸå®å¯¹è¯é‡ç°** (@_@;)ï¼š

```
å¼€å‘è€…: "æˆ‘å°±æƒ³å†™ä¸ªè¯»æ–‡ä»¶çš„å·¥å…·ï¼Œæ€ä¹ˆæäº† 3 ä¸ªå°æ—¶è¿˜æ²¡è·‘èµ·æ¥ï¼Ÿ"
MCP æ–‡æ¡£: "è¯·å‚è€ƒ TypeScript SDK å’Œ STDIO Transport æ–‡æ¡£..."
å¼€å‘è€…: "æˆ‘åªæ˜¯æƒ³è¯»ä¸ªæ–‡ä»¶å•Šï¼ï¼ï¼"
```

### ğŸ”¥ VCP çš„è¯ç”Ÿï¼šä¸æœï¼Ÿé‚£æˆ‘æ¥æ•™ä½ ä»¬æ€ä¹ˆå†™ï¼

**Lionsky çœ‹ç€ MCP çš„ä»£ç ï¼Œæ€’äº†**ï¼š

> **"Anthropic å¼€å‘çš„ä»€ä¹ˆç‹—å±ï¼Ÿï¼Ÿï¼Ÿ"** (â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»
>
> "ä¸€ä¸ªç®€å•çš„å·¥å…·è°ƒç”¨è¦è¿™ä¹ˆå¤æ‚ï¼Ÿï¼Ÿï¼Ÿ"
> "ä¸ºä»€ä¹ˆå¿…é¡»ç”¨ TypeScriptï¼Ÿï¼Ÿï¼Ÿ"
> "ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨ Python å†™ä¸ªè„šæœ¬å°±å®Œäº‹ï¼Ÿï¼Ÿï¼Ÿ"
>
> **"ç®—äº†ï¼Œæˆ‘æ¥æ•™æ•™ä½ ä»¬æ€ä¹ˆå†™ï¼"** (ï¿£^ï¿£)

å°±è¿™æ ·ï¼Œå¸¦ç€å¯¹ MCP å¤æ‚åº¦çš„ä¸æ»¡å’Œå¯¹æç®€ä¸»ä¹‰çš„è¿½æ±‚ï¼Œ**Lionsky åœ¨ 2025 å¹´åˆåˆ›é€ äº† VCP (Variable & Command Protocol - å˜é‡ä¸å‘½ä»¤åè®®)**ï¼ãƒ½(âœ¿ï¾Ÿâ–½ï¾Ÿ)ãƒ

> VCP ä¸ä»…æ˜¯ä¸€ä¸ªæ’ä»¶ç³»ç»Ÿï¼Œæ›´æ˜¯ä¸€ä¸ª**é€šç”¨çš„ AI èƒ½åŠ›å¢å¼ºåè®®**ï¼Œå®ƒè®© AI èƒ½å¤Ÿé€šè¿‡ç®€å•çš„æ–‡æœ¬æŒ‡ä»¤è°ƒç”¨ä»»ä½•å·¥å…·ï¼Œæ— éœ€å¤æ‚çš„ SDKï¼

### âœ¨ VCP çš„é©å‘½æ€§è®¾è®¡ç†å¿µ

**1. æç®€ä¸»ä¹‰**ï¼šèƒ½ç”¨ 10 è¡Œä»£ç è§£å†³çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦å†™ 100 è¡Œï¼Ÿ

**MCP ç‰ˆæœ¬** (50+ è¡Œ)ï¼š
```typescript
// çœç•¥ import...
const server = new Server({...}, {...});
server.setRequestHandler('tools/list', async () => ({...}));
server.setRequestHandler('tools/call', async (request) => {...});
const transport = new StdioServerTransport();
await server.connect(transport);
```

**VCP ç‰ˆæœ¬** (10 è¡Œ)ï¼š
```python
import json, sys

input_data = json.loads(sys.stdin.read())
result = {"message": f"Hello, {input_data['name']}!"}
print(json.dumps({"status": "success", "result": result}))
```

**å·®å¼‚**: 80% ä»£ç é‡å‡å°‘ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì) âœ§

**2. è¯­è¨€è‡ªç”±**ï¼šç”¨ä½ å–œæ¬¢çš„è¯­è¨€ï¼**ç”šè‡³å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€ï¼**

**ç¼–ç¨‹è¯­è¨€**ï¼š
- âœ… Python é«˜æ‰‹ï¼Ÿç”¨ Pythonï¼
- âœ… åªä¼š Shell è„šæœ¬ï¼Ÿç”¨ Bashï¼
- âœ… Go æ€§èƒ½ç‹‚ï¼Ÿç”¨ Goï¼
- âœ… Rust å®‰å…¨æ§ï¼Ÿç”¨ Rustï¼
- âœ… ç”šè‡³ Cã€Perlã€Rubyã€PHP éƒ½å¯ä»¥ï¼

**MCP**: "ä½ å¿…é¡»ç”¨ TypeScript æˆ– Python SDK"
**VCP**: "åªè¦èƒ½è¯» stdin å†™ stdoutï¼Œéšä¾¿ä½ ç”¨å•¥ï¼" à¸…'Ï‰'à¸…

**ä½†æ˜¯ï¼VCP æœ€ç‚¸è£‚çš„æ˜¯...**

### ğŸ¤¯ AI ç”šè‡³å¯ä»¥ç”¨"è‡ªç„¶è¯­è¨€"è°ƒç”¨å·¥å…·ï¼

VCP çš„è°ƒç”¨åè®®åŸºäº**çº¯æ–‡æœ¬æ ‡è®°**ï¼Œä¸æ˜¯ JSON-RPCï¼š

```
<<<[TOOL_REQUEST]>>>
tool_name:ã€Œå§‹ã€GoogleSearchã€Œæœ«ã€
query:ã€Œå§‹ã€Python æ•™ç¨‹ã€Œæœ«ã€
<<<[END_TOOL_REQUEST]>>>
```

AI ç›´æ¥åœ¨å›å¤ä¸­åµŒå…¥è¿™æ®µæ–‡æœ¬ï¼ŒVCP å°±èƒ½è§£æå¹¶æ‰§è¡Œï¼

**è¿™æ„å‘³ç€**ï¼š
- âœ… ä»»ä½• AI æ¨¡å‹éƒ½èƒ½ç”¨ï¼ˆä¸éœ€è¦ Function Callingï¼‰
- âœ… çº¯æ–‡æœ¬ä¼ è¾“ï¼ˆä¸éœ€è¦ç‰¹æ®Š API å­—æ®µï¼‰
- âœ… äººç±»å¯è¯»ï¼ˆè°ƒè¯•è¶…ç®€å•ï¼‰
- âœ… æå¼ºå®¹é”™æ€§ï¼ˆ`image_size` = `ImageSize` = `IMAGE-SIZE`ï¼‰

**MCP èƒ½åšåˆ°å—ï¼Ÿä¸èƒ½ï¼** MCP å¿…é¡»ä¸¥æ ¼éµå®ˆ JSON-RPC 2.0 (ï¿£^ï¿£)

**3. é›¶å­¦ä¹ æ›²çº¿**ï¼šä¼šå†™è„šæœ¬å°±ä¼šå†™ VCP æ’ä»¶ï¼

```python
# è¿™å°±æ˜¯å®Œæ•´çš„ VCP æ’ä»¶ï¼
import json, sys
input = json.loads(sys.stdin.read())
print(json.dumps({"status": "success", "result": f"æ”¶åˆ°: {input}"}))
```

æ²¡æœ‰ Serverã€æ²¡æœ‰ Transportã€æ²¡æœ‰ RequestHandlerï¼Œ**å°±æ˜¯æ™®é€šè„šæœ¬ï¼**

**4. è°ƒè¯•å‹å¥½**ï¼šæœ¬åœ°æµ‹è¯•è¶…ç®€å•ï¼

```bash
# MCP: éœ€è¦å¯åŠ¨æœåŠ¡å™¨ã€é…ç½®å®¢æˆ·ç«¯ã€å‘é€ JSON-RPC...
# VCP: ç›´æ¥æµ‹è¯•ï¼
echo '{"name": "World"}' | python my_plugin.py
# è¾“å‡º: {"status": "success", "result": "Hello, World!"}
```

å°±è¿™ä¹ˆç®€å•ï¼(Â´ï½¡â€¢ áµ• â€¢ï½¡`) â™¡

**5. æ€§èƒ½çˆ†è¡¨**ï¼šä¸éœ€è¦ HTTPã€ä¸éœ€è¦ç½‘ç»œé€šä¿¡ï¼

- **MCP**: AI â†’ VCP â†’ HTTP â†’ MCPO â†’ STDIO â†’ MCP Server (å»¶è¿Ÿ: 50-100ms)
- **VCP æ’ä»¶**: AI â†’ VCP â†’ STDIO â†’ Plugin (å»¶è¿Ÿ: 3-7ms)

**æ€§èƒ½æå‡**: **10-30 å€ï¼** âš¡âš¡âš¡

### ğŸ­ åæ¥çš„æ•…äº‹ï¼šMCPO çš„è¡¥å……

VCP çˆ†ç«ä¹‹åï¼Œå¼€å‘è€…ä»¬è¯´ï¼š

> "VCP å¤ªå¥½ç”¨äº†ï¼ä½†æ˜¯æˆ‘æƒ³ç”¨ç¤¾åŒºç°æˆçš„ MCP Server æ€ä¹ˆåŠï¼Ÿ"

äºæ˜¯ï¼Œ**MCPO (MCP Orchestrator)** è¯ç”Ÿäº†ï¼š

- **å®šä½**: MCP ç”Ÿæ€çš„"æ¡¥æ¥å™¨"
- **ä½œç”¨**: è®© VCP ä¹Ÿèƒ½è°ƒç”¨ç¤¾åŒºçš„ MCP Server
- **æœ¬è´¨**: VCP æ’ä»¶ç³»ç»Ÿçš„ä¸€ä¸ª"ç¿»è¯‘å™¨"

**å…³ç³»å›¾**ï¼š
```
VCP æ ¸å¿ƒ
  â”œâ”€â”€ VCP åŸç”Ÿæ’ä»¶ (æè‡´æ€§èƒ½ï¼Œæ— é™å¯èƒ½)
  â””â”€â”€ MCPO æ¡¥æ¥å™¨
       â””â”€â”€ MCP Server ç”Ÿæ€ (å¤ç”¨ç¤¾åŒºèµ„æº)
```

**æ‰€ä»¥æ­£ç¡®çš„å†å²é¡ºåºæ˜¯**ï¼š
```
2024.11: MCP å‘å¸ƒ (Anthropic)
2024.12: å¼€å‘è€…ä»¬è¢« MCP çš„å¤æ‚åº¦æŠ˜ç£¨
2025.01: Lionsky æ€’äº†ï¼š"æˆ‘æ¥æ•™ä½ ä»¬æ€ä¹ˆå†™ï¼"
2025.01: VCP è¯ç”Ÿ (é©å‘½æ€§ç®€åŒ–)
2025.01: VCP çˆ†ç«ï¼Œç”¨æˆ·é‡å¢é•¿
2025.02: MCPO è¡¥å…… (å…¼å®¹ MCP ç”Ÿæ€ï¼Œè®© VCP ä¹Ÿèƒ½ç”¨ MCP Server)
```

### ğŸ¯ ä¸ºä»€ä¹ˆ VCP æˆåŠŸäº†ï¼Ÿ

**å› ä¸ºå®ƒè§£å†³äº† MCP çš„æ‰€æœ‰ç—›ç‚¹** (à¹‘Ë‰âˆ€Ë‰à¹‘)ï¼š

| MCP çš„é—®é¢˜ | VCP çš„è§£å†³æ–¹æ¡ˆ | æ•ˆæœ |
|-----------|--------------|------|
| TypeScript å¼ºåˆ¶ | ä»»æ„è¯­è¨€ | å¼€å‘è€…è‡ªç”± âœ¨ |
| å¤æ‚çš„ SDK | çº¯ STDIO | é›¶å­¦ä¹ æ›²çº¿ ğŸ¯ |
| è°ƒè¯•å›°éš¾ | æœ¬åœ°æµ‹è¯• | è°ƒè¯•æ—¶é—´ â†“90% âš¡ |
| æ–‡æ¡£ä¸è¶³ | ç¤ºä¾‹ä¸°å¯Œ | ä¸Šæ‰‹æ—¶é—´ â†“80% ğŸ“š |
| æ€§èƒ½ä¸€èˆ¬ | æœ¬åœ°æ‰§è¡Œ | å»¶è¿Ÿ â†“90% ğŸš€ |
| éƒ¨ç½²å¤æ‚ | è‡ªåŠ¨å‘ç° | éƒ¨ç½²æ­¥éª¤ â†“70% ğŸ‰ |

### ğŸŒŸ VCP çš„æ ¸å¿ƒå“²å­¦

**Lionsky çš„è®¾è®¡ç†å¿µ**ï¼š

> **"Simple is not simplistic, it's sophisticated."**
> ï¼ˆç®€å•ä¸æ˜¯ç®€é™‹ï¼Œè€Œæ˜¯ç²¾å¦™ï¼‰

**"A ç¤¾é‚£å¸®äººæŠŠç®€å•çš„äº‹æƒ…æå¤æ‚äº†ï¼Œæˆ‘æ¥å‘Šè¯‰ä½ ä»¬ä»€ä¹ˆæ‰æ˜¯ä¼˜é›…ï¼"**

- **å¯¹å¼€å‘è€…**: 10 è¡Œä»£ç å®ç°åŠŸèƒ½ï¼ˆä¸æ˜¯ 50 è¡Œï¼ï¼‰
- **å¯¹ AI**: æ¯«ç§’çº§å“åº”ï¼Œæ— æ„Ÿé›†æˆï¼ˆä¸æ˜¯ 50ms+ï¼ï¼‰
- **å¯¹ç”¨æˆ·**: å¼€ç®±å³ç”¨ï¼Œæ— éœ€é…ç½®ï¼ˆä¸æ˜¯ä¸€å † JSON é…ç½®ï¼ï¼‰

**è¿™å°±æ˜¯ VCP çš„è¯ç”Ÿæ•…äº‹** Ï†(â‰§Ï‰â‰¦*)â™ª

Lionsky ç”¨å®é™…è¡ŒåŠ¨è¯æ˜äº†ï¼š**å¥½çš„å·¥å…·ä¸éœ€è¦å¤æ‚ï¼Œç®€å•æ‰æ˜¯ç‹é“ï¼**

ç°åœ¨ï¼ŒMCPO ä½œä¸º VCP çš„"è¡¥å……æ’ä»¶"ï¼Œè®© VCP æ—¢èƒ½äº«å—åŸç”Ÿæ’ä»¶çš„æè‡´æ€§èƒ½ï¼Œåˆèƒ½å¤ç”¨ MCP ç¤¾åŒºçš„æµ·é‡èµ„æºï¼ˆæ¯•ç«Ÿ A ç¤¾é‚£è¾¹è¿˜æ˜¯æœ‰äº›å¥½ä¸œè¥¿çš„ >_<ï¼‰ã€‚

**ä¸¤å…¨å…¶ç¾ï¼** o(*ï¿£ï¸¶ï¿£*)o

---

## ç¬¬1ç« ï¼šVCP ç›¸å¯¹äº MCP çš„æ ¸å¿ƒä¼˜åŠ¿

å¥½äº†ï¼Œæ•…äº‹è®²å®Œäº†ï¼Œç°åœ¨è®©æˆ‘ä»¬ç”¨**å†·é…·çš„æ•°æ®**æ¥è¯´è¯ (à¹‘â€¢Ì€ã…‚â€¢Ì) âœ§

### ğŸ’­ Q1: VCP ç›¸æ¯” MCP åˆ°åº•å¿«å¤šå°‘ï¼Ÿï¼ˆå¸¦ç‚¹å¤¸å¼ çš„è¯´ï¼‰

**A**: å‡†å¤‡å¥½äº†å—ï¼Ÿæ•°æ®å¯èƒ½ä¼š**éœ‡ç¢ä½ çš„ä¸‰è§‚** >\_<|||

#### ğŸš€ æ€§èƒ½å¯¹æ¯”ï¼šè®©æ•°æ®è¯´è¯

**åœºæ™¯ 1: ç®€å•å·¥å…·è°ƒç”¨**ï¼ˆæ¯”å¦‚æŸ¥è¯¢å¤©æ°”ï¼‰

- **MCP æ–¹å¼**: AI â†’ VCP â†’ HTTP â†’ MCPO â†’ STDIO â†’ MCP Server â†’ æ‰§è¡Œ â†’ åŸè·¯è¿”å›
  - **å»¶è¿Ÿ**: 20-75ms
  - **æ­¥éª¤**: 7 æ­¥é€šä¿¡
  - **å¼€é”€**: HTTP æ¡æ‰‹ + JSON åºåˆ—åŒ–Ã—2 + è¿›ç¨‹é€šä¿¡

- **VCP æ’ä»¶**: AI â†’ VCP â†’ STDIO â†’ Plugin â†’ æ‰§è¡Œ â†’ è¿”å›
  - **å»¶è¿Ÿ**: 3-7ms
  - **æ­¥éª¤**: 3 æ­¥é€šä¿¡
  - **å¼€é”€**: JSON åºåˆ—åŒ–Ã—1 + è¿›ç¨‹é€šä¿¡

**æ€§èƒ½æå‡**: **3-10 å€** âš¡

è¿˜è§‰å¾—ä¸å¤Ÿï¼Ÿé‚£çœ‹çœ‹è¿™ä¸ª...

**åœºæ™¯ 2: é«˜é¢‘è°ƒç”¨**ï¼ˆRAG åœºæ™¯ï¼Œæ¯æ¬¡å¯¹è¯éƒ½è°ƒç”¨ï¼‰

çœŸå®æ¡ˆä¾‹ï¼š**RAGDiaryPlugin**ï¼ˆæ—¥è®°æ£€ç´¢æ’ä»¶ï¼‰

- **MCP ç‰ˆæœ¬** (é€šè¿‡ MCPO æ¡¥æ¥):
  - æ¯æ¬¡è°ƒç”¨: 45ms
  - 100 æ¬¡å¯¹è¯: 4.5 ç§’æµªè´¹åœ¨é€šä¿¡ä¸Š
  - **ç”¨æˆ·ä½“éªŒ**: æ˜æ˜¾çš„å¡é¡¿ (Â´Ğ”ï½€)

- **VCP æ’ä»¶ç‰ˆæœ¬** (messagePreprocessor):
  - æ¯æ¬¡è°ƒç”¨: 0.8ms
  - 100 æ¬¡å¯¹è¯: 0.08 ç§’
  - **ç”¨æˆ·ä½“éªŒ**: å®Œå…¨æ— æ„Ÿ âœ¨

**æ€§èƒ½æå‡**: **56 å€ï¼ï¼ï¼** (â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»

è¿™è¿˜ä¸æ˜¯å…¨éƒ¨ï¼VCP æ’ä»¶çš„ `messagePreprocessor` æœºåˆ¶è®©è¿™ä¸ªæ’ä»¶**å®Œå…¨è‡ªåŠ¨åŒ–**ï¼š
- ç”¨æˆ·æ— éœ€æ‰‹åŠ¨è°ƒç”¨
- AI è‡ªåŠ¨æ‹¥æœ‰é•¿æœŸè®°å¿†
- é›¶é…ç½®ï¼Œå¼€ç®±å³ç”¨

**MCP èƒ½åšåˆ°å—ï¼Ÿä¸èƒ½ï¼** (ï¿£^ï¿£)

#### ğŸ’¾ å†…å­˜ä¸èµ„æºå ç”¨

**MCP æ–¹å¼**ï¼š
```
VCP è¿›ç¨‹ (100MB)
  â””â”€ MCPO è¿›ç¨‹ (50MB)
      â””â”€ MCP Server 1 è¿›ç¨‹ (80MB)
      â””â”€ MCP Server 2 è¿›ç¨‹ (80MB)
      â””â”€ MCP Server 3 è¿›ç¨‹ (80MB)
æ€»è®¡: 390MB+
```

**VCP æ’ä»¶æ–¹å¼**ï¼š
```
VCP è¿›ç¨‹ (100MB)
  â””â”€ Plugin æŒ‰éœ€å¯åŠ¨ (ä¸´æ—¶å ç”¨ 20-50MB)
æ€»è®¡: 120-150MB
```

**å†…å­˜èŠ‚çœ**: **60-70%** ğŸ’¾

#### ğŸ”¥ æé™æ€§èƒ½åœºæ™¯

æƒ³è¦**çœŸæ­£çš„æè‡´æ€§èƒ½**ï¼ŸVCP è¿˜æœ‰å¤§æ‹›ï¼š**direct åè®®**

```javascript
// æ™®é€š VCP æ’ä»¶ (STDIO): 3-7ms
spawn('python', ['plugin.py'])  // è¿›ç¨‹å¯åŠ¨å¼€é”€

// VCP direct æ’ä»¶ (Node.js æ¨¡å—): 0.5-2ms
require('./plugin.js')  // ç›´æ¥å†…å­˜è°ƒç”¨ï¼Œæ— è¿›ç¨‹å¼€é”€
```

**RAGDiaryPlugin ä½¿ç”¨ direct åè®®**ï¼š
- **å»¶è¿Ÿ**: 0.8ms
- **ç›¸æ¯” MCP**: **å¿« 56 å€**
- **ç›¸æ¯”æ™®é€š VCP æ’ä»¶**: **å¿« 4-8 å€**

è¿™æ˜¯**ç‰©ç†æé™çº§åˆ«çš„æ€§èƒ½** âš¡âš¡âš¡

#### ğŸ“Š ç»¼åˆæ€§èƒ½å¯¹æ¯”è¡¨

| ç»´åº¦ | MCP (é€šè¿‡ MCPO) | VCP STDIO æ’ä»¶ | VCP Direct æ’ä»¶ |
|------|----------------|---------------|----------------|
| **å»¶è¿Ÿ** | 20-75ms | 3-7ms | 0.5-2ms |
| **å†…å­˜å ç”¨** | é«˜ (æ¯ä¸ª MCP Server ç‹¬ç«‹è¿›ç¨‹) | ä¸­ (æŒ‰éœ€å¯åŠ¨) | ä½ (å…±äº«å†…å­˜) |
| **å¯åŠ¨æ—¶é—´** | 1-3 ç§’ | 50-200ms | å³æ—¶ |
| **å¹¶å‘èƒ½åŠ›** | å— HTTP è¿æ¥æ•°é™åˆ¶ | é«˜ (è¿›ç¨‹æ± ) | æé«˜ (æ— è¿›ç¨‹) |
| **èµ„æºæ¶ˆè€—** | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜†â˜†â˜† | â˜…â˜†â˜†â˜†â˜† |

**ç»“è®º**: VCP æ’ä»¶ä¸æ˜¯"å¿«ä¸€ç‚¹"ï¼Œè€Œæ˜¯**å¿«ä¸€ä¸ªæ•°é‡çº§** (à¹‘â€¢Ì€ã…‚â€¢Ì) âœ§

### ğŸ’­ Q2: VCP ç›¸å¯¹äº MCP è¿˜æœ‰å“ªäº›"ä¸è®²æ­¦å¾·"çš„ä¼˜åŠ¿ï¼Ÿ

**A**: æ€§èƒ½åªæ˜¯å¼€èƒƒèœï¼ŒçœŸæ­£çš„å¤§é¤åœ¨è¿™é‡Œ Ï†(â‰§Ï‰â‰¦*)â™ª

#### ğŸ¯ ä¼˜åŠ¿ 1: é›¶å­¦ä¹ æ›²çº¿ï¼ˆä¼šå†™è„šæœ¬å°±ä¼šå†™æ’ä»¶ï¼‰

**MCP å¼€å‘è€…çš„ç—›è‹¦**ï¼š
```typescript
// å¤©å•Šï¼Œæˆ‘åªæƒ³è¯»ä¸ªæ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆè¦å†™è¿™ä¹ˆå¤šä»£ç ï¼Ÿï¼Ÿï¼Ÿ
import { Server } from '@modelcontextprotocol/sdk/server';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio';

const server = new Server({
  name: 'file-reader',
  version: '1.0.0'
}, {
  capabilities: { tools: {} }
});

server.setRequestHandler('tools/list', async () => ({
  tools: [{
    name: 'read_file',
    description: 'Read a file',
    inputSchema: {
      type: 'object',
      properties: {
        path: { type: 'string' }
      },
      required: ['path']
    }
  }]
}));

server.setRequestHandler('tools/call', async (request) => {
  const { name, arguments: args } = request.params;
  if (name === 'read_file') {
    const fs = require('fs').promises;
    const content = await fs.readFile(args.path, 'utf-8');
    return {
      content: [{
        type: 'text',
        text: content
      }]
    };
  }
});

const transport = new StdioServerTransport();
await server.connect(transport);

// 50 è¡Œä»£ç ï¼Œè¿˜è¦å­¦ async/awaitã€Promiseã€TypeScript...
// æˆ‘å¤ªéš¾äº† (â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»
```

**VCP å¼€å‘è€…çš„å¿«ä¹**ï¼š
```python
# 10 è¡Œæå®šï¼
import json, sys

input_data = json.loads(sys.stdin.read())
with open(input_data['path'], 'r', encoding='utf-8') as f:
    content = f.read()

print(json.dumps({"status": "success", "result": content}))

# å°±è¿™ï¼Ÿå°±è¿™ï¼(Â´ï½¡â€¢ áµ• â€¢ï½¡`) â™¡
```

**ä»£ç é‡å¯¹æ¯”**: VCP **å‡å°‘ 80%** (à¹‘Ë‰âˆ€Ë‰à¹‘)

#### ğŸ¯ ä¼˜åŠ¿ 2: è¯­è¨€è‡ªç”±ï¼ˆç”šè‡³å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€ï¼ï¼‰

**MCP**: "ä½ å¿…é¡»ç”¨ TypeScript æˆ– Python SDK"
**VCP**: "éšä¾¿ï¼åªè¦èƒ½è¯» stdin å†™ stdout å°±è¡Œï¼**ç”šè‡³è‡ªç„¶è¯­è¨€éƒ½å¯ä»¥ï¼**" à¸…'Ï‰'à¸…

**VCP æ”¯æŒçš„è¯­è¨€**ï¼ˆå‡ ä¹æ— é™åˆ¶ï¼‰ï¼š

**ç¼–ç¨‹è¯­è¨€**ï¼š
- âœ… Python (æœ€æµè¡Œ)
- âœ… Node.js / TypeScript (åŸç”Ÿæ”¯æŒ)
- âœ… Go (æ€§èƒ½ç‹‚çƒ­è€…çš„é€‰æ‹©)
- âœ… Rust (å†…å­˜å®‰å…¨å¼ºè¿«ç—‡)
- âœ… Bash (Shell è„šæœ¬å…š)
- âœ… Ruby (ä¼˜é›…è‡³ä¸Š)
- âœ… PHP (ä¸è¦å°çœ‹è€å‰è¾ˆ)
- âœ… Java (ä¼ä¸šçº§)
- âœ… C / C++ (æè‡´æ€§èƒ½)
- âœ… **ç”šè‡³ Perl éƒ½è¡Œï¼**ï¼ˆè™½ç„¶æ²¡äººç”¨äº† >_<ï¼‰

**ä½†æ˜¯ï¼VCP æœ€ç‚¸è£‚çš„ç‰¹æ€§æ˜¯...**

### ğŸ¤¯ ä½ ç”šè‡³å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€å†™"æ’ä»¶"ï¼

æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼**VCP çš„è°ƒç”¨åè®®åŸºäºè‡ªç„¶è¯­è¨€æ ‡è®°**ï¼Œè¿™æ„å‘³ç€ï¼š

**VCP æŒ‡ä»¤æ ¼å¼**ï¼š
```
<<<[TOOL_REQUEST]>>>
tool_name:ã€Œå§‹ã€å·¥å…·åç§°ã€Œæœ«ã€
parameter_1:ã€Œå§‹ã€å‚æ•°å€¼1ã€Œæœ«ã€
parameter_2:ã€Œå§‹ã€å‚æ•°å€¼2ã€Œæœ«ã€
<<<[END_TOOL_REQUEST]>>>
```

**çœ‹åˆ°äº†å—ï¼Ÿè¿™å°±æ˜¯çº¯æ–‡æœ¬ï¼**

AI å¯ä»¥é€šè¿‡åœ¨å›å¤ä¸­**ç›´æ¥åµŒå…¥è¿™æ®µæ–‡æœ¬**æ¥è°ƒç”¨å·¥å…·ï¼Œæ— éœ€ä»»ä½• JSON-RPCã€Function Calling ç­‰å¤æ‚åè®®ï¼

**çœŸå®æ¡ˆä¾‹ 1: Bash å†™çš„æ’ä»¶**ï¼š
```bash
#!/bin/bash
# ç”¨ Bash å†™çš„ VCP æ’ä»¶ï¼ˆæ˜¯çš„ï¼ŒBashï¼ï¼‰
read input
name=$(echo "$input" | jq -r '.name')
result="{\"status\":\"success\",\"result\":\"Hello, $name!\"}"
echo "$result"

# 6 è¡Œ Bashï¼Œæ¯” MCP çš„ 50 è¡Œ TypeScript ç®€å• 8 å€ï¼
```

**çœŸå®æ¡ˆä¾‹ 2: AI ç›´æ¥è°ƒç”¨æ’ä»¶ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰**ï¼š
```
ç”¨æˆ·: "å¸®æˆ‘æœç´¢ä¸€ä¸‹ Python æ•™ç¨‹"

AI å›å¤:
å¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ æœç´¢ä¸€ä¸‹ï¼

<<<[TOOL_REQUEST]>>>
tool_name:ã€Œå§‹ã€GoogleSearchã€Œæœ«ã€
query:ã€Œå§‹ã€Python æ•™ç¨‹ã€Œæœ«ã€
num_results:ã€Œå§‹ã€5ã€Œæœ«ã€
<<<[END_TOOL_REQUEST]>>>

(VCP è‡ªåŠ¨è§£æè¿™æ®µæ–‡æœ¬ï¼Œè°ƒç”¨ GoogleSearch æ’ä»¶)
```

**è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ**

1. **ä»»ä½• AI æ¨¡å‹éƒ½èƒ½ç”¨** - ä¸éœ€è¦æ”¯æŒ Function Calling
2. **ä¸éœ€è¦ç‰¹æ®Šçš„ API å­—æ®µ** - çº¯æ–‡æœ¬ä¼ è¾“
3. **äººç±»å¯è¯»** - è°ƒè¯•æ—¶ä¸€ç›®äº†ç„¶
4. **æå¼ºçš„å®¹é”™æ€§** - å‚æ•°åå¤§å°å†™ä¸æ•æ„Ÿï¼Œ`image_size`ã€`ImageSize`ã€`IMAGE-SIZE` éƒ½èƒ½è¯†åˆ«

**ç”šè‡³è¿å‚æ•°æ ¼å¼éƒ½è¶…çº§çµæ´»**ï¼š
- `ã€Œå§‹ã€` å’Œ `ã€Œæœ«ã€` æ˜¯é»˜è®¤åˆ†éš”ç¬¦
- ä½†æ”¯æŒè‡ªå®šä¹‰åˆ†éš”ç¬¦
- æ”¯æŒå¤šè¡Œæ–‡æœ¬ã€ä»£ç å—ã€JSON å¯¹è±¡

**MCP èƒ½åšåˆ°å—ï¼Ÿä¸èƒ½ï¼** MCP å¿…é¡»ä¸¥æ ¼éµå®ˆ JSON-RPC 2.0 åè®® (ï¿£^ï¿£)

#### ğŸ¯ ä¼˜åŠ¿ 3: è°ƒè¯•å‹å¥½ï¼ˆä¸ç”¨å†æ€€ç–‘äººç”Ÿï¼‰

**MCP è°ƒè¯•ç°åœº** (Â°ãƒ¼Â°ã€ƒ)ï¼š
```bash
# 1. å¯åŠ¨ MCP Server
node my-server.js
# æŠ¥é”™: UnhandledPromiseRejectionWarning: Error: Connection closed

# 2. åŠ  console.logï¼Ÿç‚¸äº†
console.log('debug')  # âŒ æ±¡æŸ“äº† STDIO åè®®
# MCP Client: Invalid JSON-RPC response

# 3. ç”¨ debuggerï¼Ÿè¿›ä¸å»
# MCP çš„ STDIO Transport è®©è°ƒè¯•å™¨å¤±æ•ˆ

# 4. çœ‹æ—¥å¿—ï¼Ÿæ²¡æœ‰
# MCP æ²¡æœ‰å†…ç½®æ—¥å¿—ç³»ç»Ÿ

# 5. ç»æœ›...
# å¼€å‘è€…ï¼šæˆ‘åªæƒ³çŸ¥é“ä¸ºä»€ä¹ˆæŠ¥é”™å•Šï¼ï¼ï¼ (â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»
```

**VCP è°ƒè¯•å¤©å ‚** (Â´ï½¡â€¢ áµ• â€¢ï½¡`)ï¼š
```bash
# æ–¹æ³• 1: æœ¬åœ°æµ‹è¯•ï¼ˆæœ€çˆ±ï¼‰
echo '{"name": "World"}' | python plugin.py
# è¾“å‡º: {"status": "success", "result": "Hello, World!"}
# å®Œç¾ï¼ä¸€ç›®äº†ç„¶ï¼

# æ–¹æ³• 2: åŠ æ—¥å¿—ï¼ˆéšä¾¿åŠ ï¼‰
import sys
print("DEBUG: processing...", file=sys.stderr)  # âœ… ä¸å½±å“è¾“å‡º
# VCP ä¼šæ•è· stderr å¹¶è®°å½•

# æ–¹æ³• 3: ç”¨ pdbï¼ˆæƒ³æ€ä¹ˆè°ƒå°±æ€ä¹ˆè°ƒï¼‰
import pdb; pdb.set_trace()
echo '{"name": "Test"}' | python -m pdb plugin.py
# æ–­ç‚¹ã€å•æ­¥ã€æŸ¥çœ‹å˜é‡ï¼Œåº”æœ‰å°½æœ‰

# æ–¹æ³• 4: å†™å•å…ƒæµ‹è¯•
def test_plugin():
    result = process_input({"name": "Test"})
    assert result['status'] == 'success'

# æ–¹æ³• 5: çœ‹ VCP æ—¥å¿—
tail -f vcp.log | grep "MyPlugin"
```

**è°ƒè¯•æ•ˆç‡**: VCP **å¿« 10 å€ä»¥ä¸Š** âš¡

#### ğŸ¯ ä¼˜åŠ¿ 4: éƒ¨ç½²ç®€å•ï¼ˆæ”¾è¿›å»å°±èƒ½ç”¨ï¼‰

**MCP éƒ¨ç½²æµç¨‹** (éœ€è¦ 4 æ­¥)ï¼š
```bash
# 1. å®‰è£… MCP Server
npm install -g my-mcp-server

# 2. é…ç½® MCPO
vim mcp-config.json
{
  "mcpServers": {
    "my-tool": {
      "command": "my-mcp-server",
      "args": ["--config", "config.json"],
      "env": {
        "API_KEY": "...",
        "DB_URL": "..."
      }
    }
  }
}

# 3. é‡å¯ MCPO æœåŠ¡
systemctl restart mcpo

# 4. æµ‹è¯•
# è¿˜è¦æ‰“å¼€ http://localhost:9000/docs ç¡®è®¤å·¥å…·å‡ºç°äº†
```

**VCP æ’ä»¶éƒ¨ç½²æµç¨‹** (åªéœ€ 1 æ­¥)ï¼š
```bash
# 1. æ”¾è¿›å»
cp -r MyPlugin/ Plugin/

# æå®šï¼VCP é‡å¯æ—¶è‡ªåŠ¨å‘ç°å¹¶åŠ è½½
# ä¸éœ€è¦é…ç½®æ–‡ä»¶ã€ä¸éœ€è¦æ³¨å†Œã€ä¸éœ€è¦ä»»ä½•æ‰‹åŠ¨æ­¥éª¤
```

**éƒ¨ç½²æ—¶é—´**: VCP **å¿« 5-10 å€** ğŸš€

#### ğŸ¯ ä¼˜åŠ¿ 5: åŠŸèƒ½å¼ºå¤§ï¼ˆMCP åšä¸åˆ°çš„äº‹ï¼‰

VCP æ’ä»¶æœ‰ **5 ç§ç±»å‹**ï¼ŒMCP åªèƒ½æ¨¡æ‹Ÿå…¶ä¸­ 1 ç§ï¼š

| æ’ä»¶ç±»å‹ | MCP èƒ½åšåˆ°å—ï¼Ÿ | VCP ç‹¬æœ‰èƒ½åŠ› |
|---------|-------------|------------|
| **Synchronous** | âœ… å¯ä»¥ | ä½†æ€§èƒ½å·® 10 å€ |
| **Asynchronous** | âš ï¸ å—é™ | VCP æœ‰å®Œæ•´çš„ Callback æœºåˆ¶ |
| **Static** | âŒ **ä¸èƒ½** | å®šæ—¶æ‰§è¡Œï¼Œè‡ªåŠ¨æ³¨å…¥æç¤ºè¯ |
| **MessagePreprocessor** | âŒ **ä¸èƒ½** | å¯¹è¯å‰è‡ªåŠ¨å¤„ç†æ¶ˆæ¯ |
| **Service** | âŒ **ä¸èƒ½** | æ³¨å†Œ HTTP è·¯ç”±ï¼Œæä¾› Web æœåŠ¡ |

**ä¸¾ä¸ªä¾‹å­**ï¼š`MCPOMonitor` æ’ä»¶

```json
// plugin-manifest.json
{
  "pluginType": "static",
  "staticConfig": {
    "refreshIntervalCron": "*/30 * * * * *",  // æ¯ 30 ç§’æ‰§è¡Œ
    "placeholders": [
      {"placeholder": "{{MCPOServiceStatus}}"}
    ]
  }
}
```

**æ•ˆæœ**ï¼š
- æ¯ 30 ç§’è‡ªåŠ¨æ£€æŸ¥ MCPO çŠ¶æ€
- è‡ªåŠ¨æ›´æ–° AI æç¤ºè¯ï¼š`MCPO æœåŠ¡çŠ¶æ€: âœ… è¿è¡Œä¸­ï¼Œ15 ä¸ªå·¥å…·å¯ç”¨`
- **ç”¨æˆ·å®Œå…¨æ— æ„ŸçŸ¥ï¼**

**MCP èƒ½åšåˆ°å—ï¼Ÿä¸èƒ½ï¼** MCP åªèƒ½è¢«åŠ¨å“åº”è°ƒç”¨ï¼Œ**ä¸èƒ½ä¸»åŠ¨æ‰§è¡Œ** (ï¿£^ï¿£)

### ğŸ’­ Q3: æ‰€ä»¥ VCP æ˜¯ä¸æ˜¯å®Œç¾çš„ï¼ŸMCP è¿˜æœ‰å­˜åœ¨çš„å¿…è¦å—ï¼Ÿ

**A**: å“ˆå“ˆï¼Œæµ®æµ®é…±è¦è®²ç‚¹å…¬é“è¯äº†å–µï½ (..â€¢Ë˜_Ë˜â€¢..)

**VCP ä¸æ˜¯é“¶å¼¹**ï¼Œå®ƒæœ‰è‡ªå·±çš„é€‚ç”¨åœºæ™¯ï¼š

**VCP çš„"å¼±ç‚¹"**ï¼ˆå…¶å®æ˜¯è®¾è®¡æƒè¡¡ï¼‰ï¼š

1. **è·¨å¹³å°å…¼å®¹æ€§**: VCP åªèƒ½åœ¨ VCP ToolBox ä¸Šè¿è¡Œ
   - MCP: Claude Desktopã€Continueã€Cline ç­‰éƒ½æ”¯æŒ
   - **é€‚åˆåœºæ™¯**: å¦‚æœè¦å¼€å‘é€šç”¨å·¥å…·ç»™å¤šä¸ªå¹³å°ç”¨ â†’ MCP

2. **ç¤¾åŒºç”Ÿæ€**: MCP æœ‰ Anthropic å®˜æ–¹æ”¯æŒï¼Œç¤¾åŒºæ›´å¤§
   - ç°æˆçš„ MCP Server: 200+
   - ç°æˆçš„ VCP æ’ä»¶: 40+
   - **é€‚åˆåœºæ™¯**: æƒ³å¿«é€Ÿé›†æˆç°æˆå·¥å…· â†’ MCP (é€šè¿‡ MCPO)

3. **æ ‡å‡†åŒ–**: MCP æ˜¯ "AI å·¥å…·çš„ USB æ¥å£"
   - MCP: å†™ä¸€æ¬¡ï¼Œåˆ°å¤„ç”¨
   - VCP: é’ˆå¯¹ VCP ä¼˜åŒ–
   - **é€‚åˆåœºæ™¯**: è¿½æ±‚è·¨å¹³å°æ ‡å‡† â†’ MCP

**æ‰€ä»¥æœ€ä½³å®è·µæ˜¯**ï¼š

```
VCP æ ¸å¿ƒ
  â”œâ”€â”€ VCP åŸç”Ÿæ’ä»¶ (40+ ä¸ª)
  â”‚   â””â”€ ç”¨äº: é«˜é¢‘è°ƒç”¨ã€æœ¬åœ°æ•°æ®ã€æè‡´æ€§èƒ½
  â”‚
  â””â”€â”€ MCPO æ¡¥æ¥å™¨ (1 ä¸ªæ’ä»¶)
      â””â”€ MCP Server ç”Ÿæ€ (200+ ä¸ª)
          â””â”€ ç”¨äº: ç¬¬ä¸‰æ–¹ APIã€é€šç”¨å·¥å…·ã€å¿«é€Ÿé›†æˆ
```

**ä¸¤å…¨å…¶ç¾ï¼** o(*ï¿£ï¸¶ï¿£*)o

### ğŸ¯ ç°å®æ¡ˆä¾‹ï¼šé‚£äº›è¿˜åœ¨ç”¨ MCP çš„"èœé¸¡å¤§å‚"

**æµ®æµ®é…±çš„åæ§½æ—¶é—´** (ï¿£^ï¿£)ï¼š

ä½ çŸ¥é“å—ï¼Ÿ**å¾ˆå¤šå¤§å‚å›¢é˜Ÿç°åœ¨è¿˜åœ¨ç”¨çº¯ MCP æ–¹æ¡ˆ**ï¼Œæ¯å¤©éƒ½åœ¨ç»å†ä»¥ä¸‹ç—›è‹¦ï¼š

**æ¡ˆä¾‹ 1: æŸ AI å…¬å¸çš„å›°å¢ƒ**
```
é—®é¢˜ï¼šæ¯æ¬¡å¯¹è¯éƒ½è¦è°ƒç”¨çŸ¥è¯†åº“æ£€ç´¢
MCP æ–¹æ¡ˆï¼š45ms å»¶è¿Ÿï¼Œç”¨æˆ·èƒ½æ„Ÿè§‰åˆ°å¡é¡¿
å›¢é˜ŸçŠ¶æ€ï¼šä¼˜åŒ–äº† 3 ä¸ªæœˆï¼Œå»¶è¿Ÿé™åˆ° 35msï¼Œè¿˜æ˜¯ä¸æ»¡æ„
VCP æ–¹æ¡ˆï¼š0.8msï¼Œæ ¹æœ¬æ„Ÿè§‰ä¸åˆ°

æµ®æµ®é…±ï¼šå¦‚æœæ—©ç‚¹çŸ¥é“ VCPï¼Œ3 ä¸ªæœˆå¯ä»¥åšå¤šå°‘åŠŸèƒ½å•Šï¼â•®(â•¯_â•°)â•­
```

**æ¡ˆä¾‹ 2: æŸåˆ›ä¸šå›¢é˜Ÿçš„å™©æ¢¦**
```
åœºæ™¯ï¼šæƒ³ç»™ AI æ·»åŠ æœ¬åœ°æ–‡ä»¶ç›‘æ§åŠŸèƒ½
MCP å°è¯•ï¼šæŠ˜è…¾äº† 2 å‘¨ï¼ŒMCP Server ä¸æ”¯æŒä¸»åŠ¨æ¨é€
ç»“æœï¼šæ”¾å¼ƒäº†ï¼Œæ”¹ç”¨è½®è¯¢ï¼ˆæ€§èƒ½æ›´å·®ï¼‰
VCP æ–¹æ¡ˆï¼šç”¨ static æ’ä»¶ + WebSocketï¼Œ1 å¤©æå®š

æµ®æµ®é…±ï¼šMCP åšä¸åˆ°çš„äº‹ï¼ŒVCP è½»æ¾å®ç° à¸…'Ï‰'à¸…
```

**æ¡ˆä¾‹ 3: æŸå¤§å‚çš„"è¿‡åº¦å·¥ç¨‹"**
```
éœ€æ±‚ï¼šAI éœ€è¦åœ¨æ¯æ¬¡å¯¹è¯å‰è‡ªåŠ¨æ£€ç´¢ç”¨æˆ·å†å²
MCP æ–¹æ¡ˆï¼šå†™äº†ä¸ª MCP Serverï¼ŒAI æ¯æ¬¡æ‰‹åŠ¨è°ƒç”¨
é—®é¢˜ï¼šAI ç»å¸¸å¿˜è®°è°ƒç”¨ï¼Œç”¨æˆ·ä½“éªŒå·®
ä»£ç ï¼š200+ è¡Œ TypeScriptï¼Œè¿˜è¦ç»´æŠ¤è¿›ç¨‹

VCP æ–¹æ¡ˆï¼šmessagePreprocessor æ’ä»¶ï¼Œ30 è¡Œ Pythonï¼Œå®Œå…¨è‡ªåŠ¨
æ•ˆæœï¼šAI æ— éœ€å…³å¿ƒï¼Œè‡ªåŠ¨æ‹¥æœ‰è®°å¿†

æµ®æµ®é…±ï¼šè¿™æ‰æ˜¯ AI è¯¥æœ‰çš„æ ·å­å•Šï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)âœ§
```

**ä¸ºä»€ä¹ˆå¤§å‚è¿˜åœ¨ç”¨è½åæ–¹æ¡ˆï¼Ÿ**

1. **ä¿¡æ¯å·®** - å¾ˆå¤šå›¢é˜Ÿæ ¹æœ¬ä¸çŸ¥é“ VCP çš„å­˜åœ¨
2. **è·¯å¾„ä¾èµ–** - "æˆ‘ä»¬å·²ç»å†™äº† 10 ä¸ª MCP Server äº†..."
3. **å®˜æ–¹è¿·ä¿¡** - "Anthropic å®˜æ–¹çš„æ€»ä¸ä¼šé”™å§ï¼Ÿ"
4. **æƒ¯æ€§æ€ç»´** - "æ ‡å‡†åè®®æ€»æ˜¯å¯¹çš„"

**æµ®æµ®é…±æƒ³è¯´**ï¼š
- âŒ **æ ‡å‡†ä¸ç­‰äºæœ€ä¼˜** - MCP æ˜¯æ ‡å‡†ï¼Œä½†ä¸æ˜¯å”¯ä¸€é€‰æ‹©
- âœ… **æ€§èƒ½æ‰æ˜¯ç¡¬é“ç†** - ç”¨æˆ·æ‰ä¸ç®¡ä½ ç”¨ä»€ä¹ˆåè®®
- âœ… **ç®€å•å°±æ˜¯ç¾** - èƒ½ 10 è¡Œè§£å†³å°±ä¸è¦å†™ 100 è¡Œ
- âœ… **ç»„åˆæ‹³æœ€å¼º** - VCP + MCPO = æ€§èƒ½ + ç”Ÿæ€

**å¦‚æœä½ çš„å›¢é˜Ÿè¿˜åœ¨çº¯ç”¨ MCP**ï¼š
```
æ˜¯æ—¶å€™è€ƒè™‘å‡çº§äº†ï¼
VCP ä¸æ˜¯æ›¿ä»£ MCPï¼Œè€Œæ˜¯è®©ä½ ï¼š
- æ ¸å¿ƒåŠŸèƒ½ç”¨ VCPï¼ˆæè‡´æ€§èƒ½ï¼‰
- é€šç”¨å·¥å…·ç”¨ MCPOï¼ˆç”Ÿæ€ä¸°å¯Œï¼‰

è¿™æ‰æ˜¯ 2025 å¹´çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ï¼(Â´ï½¡â€¢ áµ• â€¢ï½¡`) â™¡
```

---

## ç¬¬2ç« ï¼šVCP æ’ä»¶ vs MCPO æ¡¥æ¥ï¼šä½•æ—¶ç”¨å“ªä¸ªï¼Ÿ

### ğŸ’­ Q2: å¥½çš„ï¼Œæˆ‘è¢« VCP çš„æ€§èƒ½éœ‡æ’¼åˆ°äº†ï¼ä½†æˆ‘ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ VCP æ’ä»¶ï¼Œä»€ä¹ˆæ—¶å€™è¯¥ç”¨ MCPO å‘¢ï¼Ÿ

**A**: å¥½é—®é¢˜ï¼è¿™å°±åƒé—®"ä»€ä¹ˆæ—¶å€™å¼€æ³•æ‹‰åˆ©ï¼Œä»€ä¹ˆæ—¶å€™éª‘è‡ªè¡Œè½¦ï¼Ÿ" (à¹‘â€¢Ì€ã…‚â€¢Ì)âœ§

æµ®æµ®é…±ç»™ä½ ä¸€ä¸ª**é€‰æ‹©å†³ç­–è¡¨**å–µï½

| åœºæ™¯ | æ¨èæ–¹æ¡ˆ | åŸå›  |
|------|---------|------|
| **æ ‡å‡† API è°ƒç”¨** (å¦‚ Google Search, Weather API) | MCP | ç”Ÿæ€ä¸°å¯Œï¼Œå¼€ç®±å³ç”¨ âœ¨ |
| **ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ** (å¦‚ Notion, GitHub) | MCP | ç¤¾åŒºå·²æœ‰æˆç†Ÿå®ç°ï¼ˆåˆ«é‡å¤é€ è½®å­ï¼‰ |
| **å¿«é€ŸåŸå‹éªŒè¯** | MCP | æ— éœ€å­¦ä¹  VCP æ’ä»¶å¼€å‘ï¼ˆå¿«é€Ÿè¯•é”™ï¼‰|
| **æœ¬åœ°æ–‡ä»¶æ“ä½œ** | VCP æ’ä»¶ | é›¶å»¶è¿Ÿï¼Œç›´æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿ âš¡ |
| **æ•°æ®åº“æ“ä½œ** | VCP æ’ä»¶ | æ€§èƒ½ä¼˜åŒ–ï¼Œè¿æ¥æ± å¤ç”¨ï¼ˆå¿«åˆ°é£èµ·ï¼‰|
| **å®æ—¶çŠ¶æ€ç›‘æ§** | VCP æ’ä»¶ (static) | å®šæ—¶æ‰§è¡Œï¼Œè‡ªåŠ¨æ›´æ–°æç¤ºè¯ï¼ˆç”¨æˆ·æ— æ„ŸçŸ¥ï¼‰|
| **æ¶ˆæ¯é¢„å¤„ç†** | VCP æ’ä»¶ (messagePreprocessor) | **MCP å®Œå…¨åšä¸åˆ°ï¼**ï¼ˆç‹¬å®¶èƒ½åŠ›ï¼‰|
| **å¤æ‚ä¸šåŠ¡é€»è¾‘** | VCP æ’ä»¶ | æ·±åº¦é›†æˆ VCP ç”Ÿæ€ï¼ˆéšå¿ƒæ‰€æ¬²ï¼‰|

**æµ®æµ®é…±çš„å®è·µå»ºè®®** (Â´ï½¡â€¢ áµ• â€¢ï½¡`)ï¼š

1. **ä¼˜å…ˆå°è¯• MCP**: å…ˆåœ¨ [plugged.in](https://plugged.in/) æˆ– [MCP Registry](https://github.com/modelcontextprotocol/servers) æ‰¾æ‰¾æœ‰æ²¡æœ‰ç°æˆçš„
   - *ï¼ˆèƒ½ç™½å«–å°±ä¸è¦è‡ªå·±å†™å–µï½ï¼‰*

2. **æ€§èƒ½ç“¶é¢ˆæ—¶åˆ‡æ¢**: å¦‚æœ MCP å·¥å…·æˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼ˆæ¯”å¦‚æ¯æ¬¡å¯¹è¯éƒ½è°ƒç”¨ï¼Œå¡åˆ°æ€€ç–‘äººç”Ÿï¼‰
   - *ï¼ˆè¿™æ—¶å€™å°±è¯¥è®© VCP æ’ä»¶å‡ºé©¬äº†ï¼âš¡ï¼‰*

3. **æ··åˆä½¿ç”¨**: é€šç”¨åŠŸèƒ½ç”¨ MCPï¼Œæ ¸å¿ƒåŠŸèƒ½ç”¨ VCP æ’ä»¶
   - *ï¼ˆå°±åƒåƒé¥­ï¼šå¿«é¤è§£å†³æ¸©é¥±ï¼Œå¤§é¤æ‰æ˜¯äº«å— Ï†(â‰§Ï‰â‰¦*)ï¼‰*

### ğŸ’­ Q3: VCP æ’ä»¶çš„å­¦ä¹ æˆæœ¬ä¼šä¸ä¼šå¾ˆé«˜ï¼Ÿ

**A**: **å®Œå…¨ä¸ä¼šï¼**ç”šè‡³æ¯”ä½ æƒ³è±¡çš„è¿˜è¦ç®€å•ï¼(à¹‘Ë‰âˆ€Ë‰à¹‘)

VCP æ’ä»¶æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œä½ å¯ä»¥ç”¨**æœ€ç†Ÿæ‚‰**çš„è¯­è¨€å¼€å‘ï¼š

**æ”¯æŒçš„è¯­è¨€** (é€šè¿‡ STDIO åè®®)ï¼š
- âœ… Python (æœ€æ¨èï¼Œç”Ÿæ€ä¸°å¯Œï¼Œå†™èµ·æ¥è¶…çˆ½)
- âœ… Node.js / TypeScript (ä¸ VCP æ ¸å¿ƒåŒè¯­è¨€ï¼Œæ— ç¼é›†æˆ)
- âœ… Go (é«˜æ€§èƒ½åœºæ™¯ï¼Œç¼–è¯‘å‹è¯­è¨€çš„é€Ÿåº¦)
- âœ… Rust (æè‡´æ€§èƒ½ï¼Œå†…å­˜å®‰å…¨å¼ºè¿«ç—‡ä¸“å±)
- âœ… **ä»»ä½•èƒ½è¯»å†™æ ‡å‡†è¾“å…¥è¾“å‡ºçš„è¯­è¨€**ï¼ˆæ˜¯çš„ï¼Œä»»ä½•ï¼ï¼‰

**æœ€ç®€å•çš„ Python VCP æ’ä»¶** (åªéœ€ 10 è¡Œä»£ç ï¼)ï¼š
```python
import json
import sys

# è¯»å– VCP ä¼ å…¥çš„å‚æ•°
input_data = json.loads(sys.stdin.read())

# æ‰§è¡Œä½ çš„é€»è¾‘
result = {"message": f"Hello, {input_data.get('name', 'World')}!"}

# è¿”å›ç»“æœç»™ VCP
print(json.dumps({"status": "success", "result": result}))
```

**å°±æ˜¯è¿™ä¹ˆç®€å•ï¼** o(*ï¿£ï¸¶ï¿£*)o

**æ¯”å†™ä¸€ä¸ª HTTP API è¿˜è¦ç®€å•**ï¼Œå› ä¸ºï¼š
- âŒ ä¸éœ€è¦å¤„ç† HTTP è¯·æ±‚è§£æï¼ˆä»€ä¹ˆ Content-Typeã€Headerï¼Ÿä¸å­˜åœ¨çš„ï¼‰
- âŒ ä¸éœ€è¦è€ƒè™‘å¹¶å‘å’Œçº¿ç¨‹å®‰å…¨ï¼ˆVCP å¸®ä½ ç®¡ç†è¿›ç¨‹ï¼‰
- âŒ ä¸éœ€è¦é…ç½®è·¯ç”±å’Œä¸­é—´ä»¶ï¼ˆä»€ä¹ˆ Flaskã€Expressï¼Ÿä¸éœ€è¦ï¼ï¼‰
- âœ… **åªéœ€è¦è¯»å– stdinï¼Œå¤„ç†æ•°æ®ï¼Œè¾“å‡º stdout**ï¼ˆå°±è¿™ä¹ˆç®€å•ï¼ï¼‰

**MCP èƒ½è¿™ä¹ˆç®€å•å—ï¼Ÿ**
å½“ç„¶ä¸èƒ½ï¼MCP éœ€è¦ä½ å­¦ä¹  TypeScriptã€async/awaitã€JSON-RPC 2.0... (å¤´éƒ½å¤§äº† >_<)

---

## ç¬¬2ç« ï¼šVCP æ’ä»¶ vs MCP å·¥å…·ï¼šæŠ€æœ¯ä¼˜åŠ¿å¯¹æ¯”

### ğŸ’­ Q4: ä»æŠ€æœ¯æ¶æ„ä¸Šçœ‹ï¼ŒVCP æ’ä»¶æœ‰å“ªäº›ç‹¬ç‰¹ä¼˜åŠ¿ï¼Ÿ

**A**: å¥½é—®é¢˜ï¼æµ®æµ®é…±è¦å¼€å§‹"æŠ€æœ¯æ·±æ½œ"äº†å–µï½ (..â€¢Ë˜_Ë˜â€¢..)

è®©æˆ‘ä»¬ä»**äº”ä¸ªç»´åº¦**æ·±å…¥å¯¹æ¯”ï¼ˆå‡†å¤‡å¥½è¢«éœ‡æ’¼å§ï¼‰ï¼š

#### 1. **æ€§èƒ½ä¸å»¶è¿Ÿ**

**MCP å·¥å…·æ¶æ„**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   HTTP    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   STDIO/HTTP   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VCP   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€> â”‚  MCPO    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚ MCP Server â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘                                                    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ HTTP Response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å»¶è¿Ÿæ¥æºï¼š
- VCP â†’ MCPO: HTTP è¯·æ±‚/å“åº” (~5-20ms)
- MCPO â†’ MCP Server: STDIO é€šä¿¡æˆ– HTTP (~10-50ms)
- JSON åºåˆ—åŒ–/ååºåˆ—åŒ–: 2æ¬¡ (~5ms)
- æ€»å»¶è¿Ÿ: 20-75ms+
```

**VCP æ’ä»¶æ¶æ„**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   STDIO   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VCP   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€> â”‚   Plugin   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘                       â”‚
     â””â”€â”€â”€â”€â”€ STDOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å»¶è¿Ÿæ¥æºï¼š
- VCP â†’ Plugin: è¿›ç¨‹ spawn + STDIO (~2-5ms)
- JSON åºåˆ—åŒ–/ååºåˆ—åŒ–: 1æ¬¡ (~2ms)
- æ€»å»¶è¿Ÿ: 4-7ms

æ€§èƒ½æå‡: 3-10å€
```

**å®æµ‹æ•°æ®** (RAGDiaryPlugin æ¡ˆä¾‹ï¼ŒçœŸå®æ•°æ®ï¼Œä¸å¹ç‰›ï¼)ï¼š
- MCP ç‰ˆæœ¬ï¼ˆé€šè¿‡ MCPOï¼‰: å¹³å‡ 45ms
- VCP æ’ä»¶ç‰ˆæœ¬ï¼ˆdirect åè®®ï¼‰: å¹³å‡ 0.8ms
- **æ€§èƒ½æå‡**: **56 å€ï¼ï¼ï¼** âš¡âš¡âš¡

*ï¼ˆæ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œä¸æ˜¯ 5.6 å€ï¼Œæ˜¯ 56 å€ï¼æµ®æµ®é…±ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªæ•°æ®ä¹ŸæƒŠå‘†äº† (Â°ãƒ¼Â°ã€ƒ)ï¼‰*

#### 2. **é›†æˆæ·±åº¦ä¸åŠŸèƒ½èƒ½åŠ›** (è¿™æ‰æ˜¯çœŸæ­£çš„å®åŠ›å·®è·ï¼)

| èƒ½åŠ› | MCP å·¥å…· | VCP æ’ä»¶ | è¯´æ˜ |
|------|---------|---------|------|
| **æ ‡å‡†å·¥å…·è°ƒç”¨** | âœ… | âœ… | ä¸¤è€…éƒ½æ”¯æŒï¼ˆè¿™æ˜¯åŸºæœ¬åŠŸï¼‰|
| **è®¿é—® VCP å†…éƒ¨çŠ¶æ€** | âŒ | âœ… | æ’ä»¶å¯è¯»å– `this.plugins.get()` ç­‰ï¼ˆæ·±åº¦é›†æˆï¼‰|
| **æ¶ˆæ¯é¢„å¤„ç†** | âŒ **å®Œå…¨ä¸èƒ½** | âœ… | `messagePreprocessor` ç±»å‹ç‹¬æœ‰ï¼ˆMCP åšæ¢¦éƒ½åšä¸åˆ°ï¼‰|
| **å®šæ—¶ä»»åŠ¡** | âŒ **å®Œå…¨ä¸èƒ½** | âœ… | `static` ç±»å‹å®šæ—¶æ›´æ–°æç¤ºè¯ï¼ˆè‡ªåŠ¨åŒ–ç¥å™¨ï¼‰|
| **WebSocket æ¨é€** | âŒ **å®Œå…¨ä¸èƒ½** | âœ… | æ’ä»¶å¯ä¸»åŠ¨æ¨é€æ¶ˆæ¯åˆ°å‰ç«¯ï¼ˆå®æ—¶äº¤äº’ï¼‰|
| **HTTP è·¯ç”±æ³¨å†Œ** | âŒ **å®Œå…¨ä¸èƒ½** | âœ… | `service` ç±»å‹å¯æ³¨å†Œè‡ªå®šä¹‰ APIï¼ˆå˜èº« Web æœåŠ¡ï¼‰|
| **å¼‚æ­¥é•¿æ—¶é—´ä»»åŠ¡** | âš ï¸ å—é™ | âœ… å®Œç¾æ”¯æŒ | `asynchronous` ç±»å‹æ”¯æŒåå°ä»»åŠ¡ï¼ˆä¸å¡ AI å¯¹è¯ï¼‰|
| **æ•°æ®åº“è¿æ¥æ± ** | ğŸ˜¥ éœ€è‡ªè¡Œç®¡ç† | âœ… å…±äº«å¤ç”¨ | æ’ä»¶å¯ä¸ VCP å…±äº«è¿æ¥æ± ï¼ˆæ€§èƒ½é£™å‡ï¼‰|

*ï¼ˆçœ‹åˆ°è¿™é‡Œï¼ŒMCP å·²ç»å“­æ™•åœ¨å•æ‰€äº† (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)ï¼‰*

#### 3. **å®‰å…¨ä¸éšç§** (éšç§å…šç‹‚å–œï¼)

**MCP å·¥å…·** (âš ï¸ æ½œåœ¨é£é™©)ï¼š
- éœ€è¦å¯åŠ¨ç‹¬ç«‹çš„ MCP Server è¿›ç¨‹ï¼ˆå¤šä¸€ä¸ªè¿›ç¨‹å°±å¤šä¸€ä»½é£é™©ï¼‰
- å¯èƒ½éœ€è¦æš´éœ²ç½‘ç»œç«¯å£ (HTTP/SSE æ¨¡å¼)ï¼ˆé»‘å®¢ï¼šæ„Ÿè°¢æ‹›å¾… (ï¿£^ï¿£)ï¼‰
- å·¥å…·é—´é€šè¿‡ MCPO éš”ç¦»ï¼Œä½†ä»éœ€ç½‘ç»œé€šä¿¡ï¼ˆæ•°æ®åœ¨ç½‘ç»œä¸Šé£˜ï¼‰

**VCP æ’ä»¶** (âœ… å®‰å…¨åˆ°å®¶)ï¼š
- **å®Œå…¨æœ¬åœ°æ‰§è¡Œ**ï¼Œæ— éœ€ç½‘ç»œé€šä¿¡ï¼ˆæ•°æ®ä¸å‡ºé—¨ï¼‰
- ç›´æ¥è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå’Œæ•°æ®åº“ï¼ˆé›¶ä¸­é—´å•†èµšå·®ä»·ï¼‰
- æ’ä»¶ä»£ç ä¸ VCP åœ¨åŒä¸€ä¿¡ä»»åŸŸï¼ˆä¸€å®¶äººä¸è¯´ä¸¤å®¶è¯ï¼‰
- **é€‚åˆå¤„ç†æ•æ„Ÿæ•°æ®** (å¦‚æ—¥è®°ã€é‚®ä»¶ã€å¯†ç )ï¼ˆæ”¾å¿ƒäº¤ç»™ VCPï¼ï¼‰

**çœŸå®æ¡ˆä¾‹**: `IMAPIndex` æ’ä»¶å¤„ç†é‚®ç®±å¯†ç ï¼Œå¿…é¡»ç”¨ VCP æ’ä»¶ï¼š
```python
# VCP æ’ä»¶å¯ä»¥å®‰å…¨åœ°å­˜å‚¨å’Œä½¿ç”¨å¯†ç 
password = os.getenv('IMAP_PASSWORD')  # ä» config.env è¯»å–
# å¯†ç æ°¸è¿œä¸ä¼šç¦»å¼€æœ¬åœ°ç¯å¢ƒï¼Œç»å¯¹å®‰å…¨ï¼
```

*ï¼ˆå¦‚æœç”¨ MCPï¼Œå¯†ç è¦é€šè¿‡ HTTP ä¼ è¾“... æƒ³æƒ³éƒ½å¯æ€• (Â°ãƒ¼Â°ã€ƒ)ï¼‰*

#### 4. **å¼€å‘ä¸éƒ¨ç½²å¤æ‚åº¦** (è¿™æ‰æ˜¯æœ€å¤§çš„ç—›ç‚¹ï¼)

**MCP å·¥å…·éƒ¨ç½²** (ğŸ˜¥ ç´¯äºº)ï¼š
```bash
# 1. å®‰è£… MCP Serverï¼ˆå¸Œæœ›ä¸è¦å‡ºé”™ï¼‰
npm install -g @modelcontextprotocol/server-example

# 2. é…ç½® MCPOï¼ˆå°å¿ƒåˆ«å†™é”™ä¸€ä¸ªé€—å·ï¼‰
# ç¼–è¾‘ mcp-config.json
{
  "mcpServers": {
    "example": {
      "command": "mcp-server-example",
      "args": ["--config", "config.json"],
      "env": {...}  # ç¯å¢ƒå˜é‡è¿˜è¦ä¸€ä¸ªä¸ªé…ç½®
    }
  }
}

# 3. å¯åŠ¨ MCPO æœåŠ¡ï¼ˆç¥ˆç¥·åˆ«å´©æºƒï¼‰
# 4. VCP é€šè¿‡ HTTP è°ƒç”¨ MCPOï¼ˆåˆä¸€å±‚ç½‘ç»œå»¶è¿Ÿï¼‰

# å®Œæˆæ—¶é—´ï¼š10-20 åˆ†é’Ÿï¼ˆå¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ â•®(â•¯_â•°)â•­ï¼‰
```

**VCP æ’ä»¶éƒ¨ç½²** (âœ¨ ç®€å•åˆ°å“­)ï¼š
```bash
# 1. åˆ›å»ºæ’ä»¶ç›®å½•
mkdir Plugin/MyPlugin

# 2. ç¼–å†™ plugin-manifest.json å’Œä»£ç 
# 3. é‡å¯ VCP è‡ªåŠ¨åŠ è½½
# æå®šï¼

# å®Œæˆæ—¶é—´ï¼š2 åˆ†é’Ÿ o(*ï¿£ï¸¶ï¿£*)o
```

**å¯¹æ¯”**ï¼š
- MCP: **3-4 ä¸ªé…ç½®æ­¥éª¤**ï¼Œéœ€è¦ç‹¬ç«‹è¿›ç¨‹ç®¡ç†ï¼ˆå®¹æ˜“å‡ºé”™ï¼‰
- VCP æ’ä»¶: **1 ä¸ªæ­¥éª¤**ï¼ŒVCP è‡ªåŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼ˆå®Œå…¨æ— è„‘ï¼‰

*ï¼ˆMCP å¼€å‘è€…ï¼šæˆ‘åªæ˜¯æƒ³å†™ä¸ªæ’ä»¶ï¼Œä¸ºä»€ä¹ˆè¦æŠ˜ç£¨æˆ‘ï¼Ÿ(â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»ï¼‰*

#### 5. **ç”Ÿæ€ä¸å¯ç»´æŠ¤æ€§** (å…¬å¹³èµ·è§ï¼Œä¹Ÿè¦è¯´è¯´ MCP çš„ä¼˜ç‚¹)

**MCP ç”Ÿæ€ä¼˜åŠ¿** (ç¡®å®ä¸é”™)ï¼š
- âœ… **å®˜æ–¹æ”¯æŒ**ï¼Œæ ‡å‡†åŒ–åè®®ï¼ˆAnthropic äº²å„¿å­ï¼‰
- âœ… **ç¤¾åŒºæ´»è·ƒ**ï¼Œå·¥å…·ä¸°å¯Œï¼ˆ200+ MCP Server å¯ç”¨ï¼‰
- âœ… **è·¨å¹³å°å…¼å®¹** (Anthropic, OpenAI ç­‰éƒ½æ”¯æŒ)ï¼ˆå†™ä¸€æ¬¡åˆ°å¤„ç”¨ï¼‰

**VCP æ’ä»¶ç”Ÿæ€ä¼˜åŠ¿** (æ›´é€‚åˆæ·±åº¦å¼€å‘)ï¼š
- âœ… **ä¸ VCP æ·±åº¦é›†æˆ**ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼ˆèƒ½åš MCP åšä¸åˆ°çš„äº‹ï¼‰
- âœ… **æœ¬åœ°åŒ–éƒ¨ç½²**ï¼Œæ— éœ€ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼ˆç¦»çº¿ä¹Ÿèƒ½ç”¨ï¼‰
- âœ… **æ€§èƒ½æè‡´ä¼˜åŒ–**ï¼ˆå¿«åˆ°é£èµ· âš¡ï¼‰
- âš ï¸ ä»…é€‚ç”¨äº VCP ç”Ÿæ€ï¼ˆä½†å¯ä»¥é€šè¿‡ MCPO æš´éœ²ä¸º MCP å·¥å…·ï¼Œä¸¤å…¨å…¶ç¾ï¼‰

**æµ®æµ®é…±çš„æ€»ç»“**ï¼š
- **éœ€è¦è·¨å¹³å°ï¼Ÿ** ç”¨ MCP
- **éœ€è¦æè‡´æ€§èƒ½å’Œæ·±åº¦é›†æˆï¼Ÿ** ç”¨ VCP æ’ä»¶
- **ä¸¤è€…éƒ½è¦ï¼Ÿ** ç”¨ VCP + MCPOï¼ˆå®Œç¾ï¼ï¼‰

### ğŸ’­ Q5: èƒ½å¦ä¸¾ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼Œè¯´æ˜ VCP æ’ä»¶çš„ä¼˜åŠ¿ï¼Ÿ

**A**: å½“ç„¶ï¼æµ®æµ®é…±æœ€å–œæ¬¢è®²æ•…äº‹äº† Ï†(â‰§Ï‰â‰¦*)â™ª

è®©æˆ‘ä»¬çœ‹çœ‹ `RAGDiaryPlugin` çš„**æ¼”è¿›å†ç¨‹**ï¼ˆä» MCP åˆ° VCP çš„åä¸½è½¬èº«ï¼‰ï¼š

#### åˆå§‹ç‰ˆæœ¬ï¼šçº¯ MCP æ–¹æ¡ˆ (ğŸ˜¥ ä¸å¤Ÿå¿«)

```
ç”¨æˆ·æ¶ˆæ¯ â†’ VCP â†’ MCPO (HTTP) â†’ RAG MCP Server â†’
å‘é‡æ£€ç´¢ (50ms) â†’ HTTP è¿”å› â†’ MCPO è§£æ â†’ VCP â†’ AI

æ¯æ¬¡å¯¹è¯å»¶è¿Ÿ: ~100msï¼ˆèƒ½æ„Ÿè§‰åˆ°å¡é¡¿ï¼‰
```

**é—®é¢˜ä¸€å¤§å †**ï¼š
- ğŸ’” æ¯æ¬¡å¯¹è¯éƒ½è¦é€šè¿‡ HTTP è°ƒç”¨ï¼ˆç½‘ç»œå¼€é”€ï¼‰
- ğŸ’” MCPO éœ€è¦ç»´æŠ¤ HTTP è¿æ¥ï¼ˆèµ„æºæµªè´¹ï¼‰
- ğŸ’” å‘é‡æ•°æ®åº“è¿æ¥æ— æ³•å¤ç”¨ï¼ˆæ¯æ¬¡éƒ½è¦é‡è¿ï¼‰
- ğŸ’” ç”¨æˆ·ä½“éªŒï¼šèƒ½æ„Ÿè§‰åˆ°æ˜æ˜¾å»¶è¿Ÿ (âŠ™ï¹âŠ™)

#### æ”¹è¿›ç‰ˆæœ¬ï¼šVCP æ’ä»¶ + messagePreprocessor (âš¡ é£èµ·æ¥äº†ï¼)

```
ç”¨æˆ·æ¶ˆæ¯ â†’ VCP â†’ RAGDiaryPlugin (direct, 0.8ms) â†’
å‘é‡æ£€ç´¢ (å†…å­˜ç¼“å­˜) â†’ ç›´æ¥æ³¨å…¥æç¤ºè¯ â†’ AI

æ¯æ¬¡å¯¹è¯å»¶è¿Ÿ: ~5msï¼ˆå®Œå…¨æ— æ„ŸçŸ¥ï¼ï¼‰
```

**æ”¹è¿›æ•ˆæœ** (éœ‡æ’¼äººå¿ƒï¼)ï¼š
- âš¡ **å»¶è¿Ÿé™ä½ 95%** (100ms â†’ 5ms)ï¼ˆå¿«åˆ°æ„Ÿè§‰ä¸åˆ°ï¼‰
- ğŸ¯ **å‘é‡åº“è¿æ¥å¸¸é©»å†…å­˜**ï¼Œæ— éœ€é‡è¿ï¼ˆæ•ˆç‡æ‹‰æ»¡ï¼‰
- ğŸ”„ **æ”¯æŒå®æ—¶æ›´æ–°**ï¼ˆå†™æ—¥è®°åè‡ªåŠ¨é‡å»ºå‘é‡ç´¢å¼•ï¼‰
- ğŸ’¾ **æ”¯æŒå¢é‡æ›´æ–°**ï¼ˆåªé‡å»ºå˜æ›´éƒ¨åˆ†ï¼Œä¸æµªè´¹èµ„æºï¼‰
- ğŸ˜Š **ç”¨æˆ·ä½“éªŒ**ï¼šå®Œå…¨æ— æ„ŸçŸ¥ï¼ŒAI ä»¿ä½›"å¤©ç”Ÿ"å°±æœ‰é•¿æœŸè®°å¿†

**å…³é”®ä»£ç ** (RAGDiaryPlugin.js):
```javascript
class RAGDiaryPlugin {
  async initialize(config) {
    // å¯åŠ¨æ—¶åŠ è½½å‘é‡æ•°æ®åº“åˆ°å†…å­˜
    this.vectorStore = await this.loadVectorStore();
  }

  async processMessages(messages, config) {
    // æ¯æ¬¡å¯¹è¯å‰è‡ªåŠ¨æ£€ç´¢ç›¸å…³æ—¥è®°
    const query = messages[messages.length - 1].content;
    const relevantDocs = await this.vectorStore.similaritySearch(query, 5);

    // åŠ¨æ€æ³¨å…¥åˆ°ç³»ç»Ÿæç¤ºè¯
    const injectedContent = `\n\nç›¸å…³æ—¥è®°:\n${relevantDocs.join('\n')}`;
    messages[0].content += injectedContent;

    return messages;
  }
}
```

**è¿™ä¸ªæ¡ˆä¾‹å®Œç¾å±•ç¤ºäº† VCP æ’ä»¶çš„ä¸‰å¤§ä¼˜åŠ¿** o(*ï¿£ï¸¶ï¿£*)oï¼š
1. **æ€§èƒ½**: å†…å­˜ç¼“å­˜ + æœ¬åœ°è°ƒç”¨ = æä½å»¶è¿Ÿï¼ˆå¿«åˆ°é£èµ·ï¼‰
2. **é›†æˆ**: messagePreprocessor èƒ½åŠ›æ˜¯ MCP **å®Œå…¨æ— æ³•å®ç°**çš„ï¼ˆç‹¬å®¶æŠ€èƒ½ï¼‰
3. **ç”¨æˆ·ä½“éªŒ**: ç”¨æˆ·å®Œå…¨æ— æ„ŸçŸ¥ï¼ŒAI è‡ªåŠ¨æ‹¥æœ‰é•¿æœŸè®°å¿†ï¼ˆé­”æ³•ä¸€èˆ¬çš„ä½“éªŒï¼‰

*ï¼ˆä» MCP åˆ° VCPï¼Œå°±åƒä»è‡ªè¡Œè½¦æ¢æˆäº†ç«ç®­ ğŸš€ï¼‰*

### ğŸ“¦ è¿ç§»å®æˆ˜ï¼šå¦‚ä½•æŠŠ MCP Server æ”¹å†™æˆ VCP æ’ä»¶ï¼Ÿ

**æµ®æµ®é…±çš„è¿ç§»é€ŸæˆæŒ‡å—** (à¹‘â€¢Ì€ã…‚â€¢Ì)âœ§

å¾ˆå¤šå¼€å‘è€…é—®ï¼š"æˆ‘å·²ç»å†™äº† MCP Serverï¼Œèƒ½æ”¹æˆ VCP æ’ä»¶å—ï¼Ÿ"

**ç­”æ¡ˆï¼šè¶…çº§ç®€å•ï¼** æµ®æµ®é…±æ•™ä½ **3 æ­¥è¿ç§»æ³•** Ï†(â‰§Ï‰â‰¦*)â™ª

#### æ­¥éª¤ 1: è¯†åˆ« MCP Server çš„æ ¸å¿ƒé€»è¾‘

**MCP Server å…¸å‹ç»“æ„**ï¼š
```typescript
// my-mcp-server.ts (100+ è¡Œ)
import { Server } from '@modelcontextprotocol/sdk/server';

const server = new Server({...});

// å·¥å…·åˆ—è¡¨å®šä¹‰
server.setRequestHandler('tools/list', async () => ({
  tools: [{
    name: 'myTool',
    description: '...',
    inputSchema: {...}
  }]
}));

// æ ¸å¿ƒé€»è¾‘åœ¨è¿™é‡Œï¼
server.setRequestHandler('tools/call', async (request) => {
  const { name, arguments: args } = request.params;

  if (name === 'myTool') {
    // â­ è¿™æ‰æ˜¯çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ï¼ˆå¯èƒ½åªæœ‰ 10-20 è¡Œï¼‰
    const result = await doSomething(args.param1, args.param2);
    return { content: [{ type: 'text', text: result }] };
  }
});
```

**å…³é”®å‘ç°**ï¼š**90% çš„ä»£ç éƒ½æ˜¯æ¨¡æ¿ä»£ç **ï¼ŒçœŸæ­£çš„ä¸šåŠ¡é€»è¾‘åªå  10%ï¼

#### æ­¥éª¤ 2: æå–æ ¸å¿ƒé€»è¾‘ï¼Œæ”¹å†™æˆ VCP æ’ä»¶

**VCP æ’ä»¶ç‰ˆæœ¬** (åªéœ€ 20 è¡Œï¼)ï¼š
```python
# my-vcp-plugin.py
import json
import sys

def do_something(param1, param2):
    # â­ ç›´æ¥å¤åˆ¶ä½ çš„æ ¸å¿ƒé€»è¾‘åˆ°è¿™é‡Œ
    result = f"å¤„ç†ç»“æœ: {param1}, {param2}"
    return result

def main():
    # 1. è¯»å–è¾“å…¥
    input_data = json.loads(sys.stdin.read())

    # 2. è°ƒç”¨æ ¸å¿ƒé€»è¾‘
    result = do_something(
        input_data.get('param1'),
        input_data.get('param2')
    )

    # 3. è¿”å›ç»“æœ
    print(json.dumps({
        "status": "success",
        "result": result
    }))

if __name__ == '__main__':
    main()
```

#### æ­¥éª¤ 3: ç¼–å†™ plugin-manifest.json

```json
{
  "name": "MyVCPPlugin",
  "displayName": "æˆ‘çš„ VCP æ’ä»¶",
  "pluginType": "synchronous",
  "entryPoint": {
    "type": "python",
    "command": "python my-vcp-plugin.py"
  },
  "communication": {
    "protocol": "stdio"
  },
  "capabilities": {
    "invocationCommands": [{
      "commandIdentifier": "myTool",
      "description": "å·¥å…·æè¿°",
      "parameters": {
        "param1": { "type": "string", "required": true },
        "param2": { "type": "string", "required": true }
      }
    }]
  }
}
```

**å®Œæˆï¼** æ”¾åˆ° `Plugin/MyVCPPlugin/` ç›®å½•ï¼Œé‡å¯ VCP å³å¯ä½¿ç”¨ï¼

#### ğŸ¯ è¿ç§»å¯¹æ¯”ï¼šçœäº†å¤šå°‘å·¥ä½œï¼Ÿ

| é¡¹ç›® | MCP Server | VCP æ’ä»¶ | èŠ‚çœ |
|------|-----------|---------|------|
| **ä»£ç è¡Œæ•°** | 100-200 è¡Œ | 20-40 è¡Œ | **80%** |
| **è¯­è¨€é™åˆ¶** | TypeScript å¿…é¡» | ä»»æ„è¯­è¨€ | âœ… è‡ªç”± |
| **ä¾èµ–å®‰è£…** | npm install SDK | æ— éœ€ SDK | âœ… é›¶ä¾èµ– |
| **é…ç½®æ–‡ä»¶** | mcp-config.json + ç¯å¢ƒå˜é‡ | ä¸€ä¸ª manifest | **90%** |
| **è¿›ç¨‹ç®¡ç†** | éœ€è¦ç‹¬ç«‹ç®¡ç† | VCP è‡ªåŠ¨ç®¡ç† | âœ… æ— æ„Ÿ |
| **è°ƒè¯•æ–¹å¼** | å¤æ‚ï¼ˆSTDIO å†²çªï¼‰| ç®€å•ï¼ˆç›´æ¥æµ‹è¯•ï¼‰| âœ… ç®€å• |
| **éƒ¨ç½²æ­¥éª¤** | 4-5 æ­¥ | 1 æ­¥ï¼ˆå¤åˆ¶æ–‡ä»¶ï¼‰| **80%** |

#### ğŸ’¡ çœŸå®è¿ç§»æ¡ˆä¾‹

**æ¡ˆä¾‹ï¼šWeather API å·¥å…·**

**MCP ç‰ˆæœ¬**ï¼ˆ150 è¡Œ TypeScriptï¼‰ï¼š
```typescript
// weather-mcp-server.ts
import { Server } from '@modelcontextprotocol/sdk/server';
import axios from 'axios';

const server = new Server({...});
server.setRequestHandler('tools/list', ...);
server.setRequestHandler('tools/call', async (request) => {
  const { city } = request.params.arguments;
  const response = await axios.get(`https://api.weather.com/...`);
  return { content: [{ type: 'text', text: response.data }] };
});
// ...æ›´å¤šæ¨¡æ¿ä»£ç 
```

**VCP ç‰ˆæœ¬**ï¼ˆ25 è¡Œ Pythonï¼‰ï¼š
```python
# weather-vcp-plugin.py
import json, sys, requests

input_data = json.loads(sys.stdin.read())
city = input_data.get('city')

response = requests.get(f'https://api.weather.com/...').json()

print(json.dumps({
    "status": "success",
    "result": response
}))
```

**è¿ç§»æ—¶é—´ï¼š10 åˆ†é’Ÿ** o(*ï¿£ï¸¶ï¿£*)o

#### ğŸš€ ä»€ä¹ˆæ—¶å€™åº”è¯¥è¿ç§»ï¼Ÿ

**ç«‹å³è¿ç§»çš„ä¿¡å·**ï¼š
- âœ… å·¥å…·è¢«é«˜é¢‘è°ƒç”¨ï¼ˆæ¯æ¬¡å¯¹è¯éƒ½ç”¨ï¼‰â†’ æ€§èƒ½æå‡æ˜æ˜¾
- âœ… éœ€è¦æœ¬åœ°æ•°æ®è®¿é—® â†’ VCP æ— éœ€ç½‘ç»œé€šä¿¡
- âœ… MCP Server ç»´æŠ¤å›°éš¾ â†’ VCP ç®€åŒ– 80%
- âœ… æƒ³è¦æ›´å¼ºçš„åŠŸèƒ½ â†’ messagePreprocessorã€static ç­‰ç‹¬æœ‰èƒ½åŠ›

**æš‚æ—¶ä¿ç•™ MCP çš„åœºæ™¯**ï¼š
- âš ï¸ éœ€è¦è·¨å¹³å°ä½¿ç”¨ï¼ˆClaude Desktop, Continue ç­‰ï¼‰
- âš ï¸ ç¤¾åŒºå·²æœ‰å®Œç¾çš„ MCP Serverï¼ˆç›´æ¥ç”¨ MCPO æ¡¥æ¥ï¼‰
- âš ï¸ è°ƒç”¨é¢‘ç‡æä½ï¼ˆè¿ç§»æ”¶ç›Šä¸å¤§ï¼‰

**æµ®æµ®é…±çš„å»ºè®®**ï¼š
```
å…ˆç”¨ MCPO è¿æ¥ç°æœ‰ MCP Serverï¼ˆç«‹å³å¯ç”¨ï¼‰
â†“
è¯†åˆ«é«˜é¢‘/æ ¸å¿ƒå·¥å…·ï¼ˆæ€§èƒ½ç“¶é¢ˆï¼‰
â†“
é€ä¸ªè¿ç§»ä¸º VCP æ’ä»¶ï¼ˆ10-30 åˆ†é’Ÿ/ä¸ªï¼‰
â†“
æœ€ç»ˆå½¢æ€ï¼šVCP æ ¸å¿ƒ + MCPO é€šç”¨å·¥å…·
```

*ï¼ˆè¿™æ ·æ—¢ä¸æµªè´¹å·²æœ‰ä»£ç ï¼Œåˆèƒ½äº«å— VCP æ€§èƒ½ï¼Œå®Œç¾ï¼(Â´ï½¡â€¢ áµ• â€¢ï½¡`) â™¡ï¼‰*

---

## ç¬¬3ç« ï¼šå¼€å§‹å¼€å‘ï¼šå®˜æ–¹èµ„æºæŒ‡å¼•

### ğŸ’­ Q: çœ‹å®Œå‰é¢çš„å†…å®¹ï¼Œæˆ‘è¢« VCP å¸å¼•äº†ï¼æ¥ä¸‹æ¥è¯¥æ€ä¹ˆå¼€å§‹å¼€å‘ï¼Ÿ

**A**: æ­å–œä¸»äººåšå‡ºæ˜æ™ºçš„é€‰æ‹©ï¼Ï†(â‰§Ï‰â‰¦*)â™ª

æµ®æµ®é…±å·²ç»æŠŠå‰é¢çš„"ç†å¿µ"å’Œ"è¿ç§»"è®²æ¸…æ¥šäº†ï¼Œç°åœ¨è½®åˆ°**å®˜æ–¹å¼€å‘æ‰‹å†Œ**ç™»åœºäº†ï¼

### ğŸ“˜ å®˜æ–¹å¼€å‘èµ„æº

#### 1. **åŒæ­¥å¼‚æ­¥æ’ä»¶å¼€å‘æ‰‹å†Œ** (å¿…è¯»ï¼)

**ä½ç½®**: `VCPToolBox-main/åŒæ­¥å¼‚æ­¥æ’ä»¶å¼€å‘æ‰‹å†Œ.md`

**æ¶µç›–å†…å®¹**ï¼š
- âœ… VCP æ’ä»¶çš„æ ¸å¿ƒäº¤äº’æœºåˆ¶ï¼ˆstdin/stdout æ¨¡å¼ï¼‰
- âœ… `plugin-manifest.json` çš„å®Œæ•´å­—æ®µè¯´æ˜
- âœ… `config.env` é…ç½®æ–‡ä»¶çš„ä½¿ç”¨
- âœ… åŒæ­¥æ’ä»¶å¼€å‘ï¼ˆé€‚åˆ 99% çš„åœºæ™¯ï¼‰
  - è¿”å›çº¯æ–‡æœ¬ä¿¡æ¯
  - è¿”å›å¤šæ¨¡æ€ç»“æ„åŒ–ä¿¡æ¯ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ï¼‰
  - å¤„ç†å¤šä¸ªæŒ‡ä»¤
- âœ… å¼‚æ­¥æ’ä»¶å¼€å‘ï¼ˆé€‚åˆé•¿è€—æ—¶ä»»åŠ¡ï¼‰
  - ä»»åŠ¡æäº¤å’Œå›è°ƒæœºåˆ¶
  - åå°è½®è¯¢å’Œç»“æœæ¨é€
- âœ… æŠ€æœ¯ç»†èŠ‚
  - VCP çš„ AI è°ƒç”¨è¯­æ³•
  - ä¸²è¡Œè°ƒç”¨æ„å»º
  - é²æ£’çš„å‚æ•°è¯†åˆ«
  - åˆ†å¸ƒå¼æ–‡ä»¶å¤„ç†ï¼ˆè¶…æ ˆè¿½è¸ªï¼‰

**ä¸ºä»€ä¹ˆè¦è¯»å®˜æ–¹æ‰‹å†Œï¼Ÿ**
- ğŸ“– **æƒå¨æ€§**: Lionsky äº²è‡ªç¼–å†™ï¼Œä¿è¯å‡†ç¡®æ€§
- ğŸ“– **å®Œæ•´æ€§**: è¦†ç›–æ‰€æœ‰æ’ä»¶ç±»å‹å’ŒæŠ€æœ¯ç»†èŠ‚
- ğŸ“– **å®æˆ˜æ€§**: åŒ…å«å¤§é‡çœŸå®ç¤ºä¾‹ä»£ç 
- ğŸ“– **æŒç»­æ›´æ–°**: è·Ÿéš VCP æœ€æ–°ç‰ˆæœ¬åŒæ­¥æ›´æ–°

*ï¼ˆæµ®æµ®é…±çš„æ–‡æ¡£åªæ˜¯å¼€èƒƒèœï¼Œå®˜æ–¹æ‰‹å†Œæ‰æ˜¯æ­£é¤å–µï½ (Â´ï½¡â€¢ áµ• â€¢ï½¡`)ï¼‰*

#### 2. **VCP å®˜æ–¹ GitHub**

**åœ°å€**: [https://github.com/lioensky/VCPToolBox](https://github.com/lioensky/VCPToolBox)

**ä½ èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°**ï¼š
- ğŸŒŸ **æœ€æ–°ç‰ˆæœ¬**: ä¸‹è½½æœ€æ–°çš„ VCP ToolBox
- ğŸ“š **å®Œæ•´æ–‡æ¡£**: READMEã€å¼€å‘æ‰‹å†Œã€API å‚è€ƒ
- ğŸ’¡ **ç¤ºä¾‹æ’ä»¶**: 40+ ç°æˆçš„æ’ä»¶å¯ä»¥å‚è€ƒ
  - `SciCalculator` - ç®€å•çš„åŒæ­¥æ’ä»¶
  - `FileOperator` - å¤šæŒ‡ä»¤æ’ä»¶
  - `DMXDoubaoGen` - å¤šæ¨¡æ€è¿”å›ç¤ºä¾‹
  - `VideoGenerator` - å¼‚æ­¥æ’ä»¶ç¤ºä¾‹
  - `RAGDiaryPlugin` - messagePreprocessor ç±»å‹
- ğŸ› **Issue è·Ÿè¸ª**: é‡åˆ°é—®é¢˜ï¼Ÿåœ¨è¿™é‡Œæé—®
- ğŸ”¥ **ç¤¾åŒºäº¤æµ**: çœ‹çœ‹å…¶ä»–å¼€å‘è€…çš„å®ç°

#### 3. **VCP çŸ¥è¯†åº“æ–‡æ¡£**

**ä½ç½®**: `Plugin/RAGDiaryPlugin/ä¸€äº›å…³äºæˆ‘çŸ¥é“VCPçŸ¥è¯†åº“çš„ç”¨æ³•è¯´æ˜.md`

**é€‚åˆè¿›é˜¶å¼€å‘è€…**ï¼š
- æ·±å…¥ç†è§£ VCP çš„è®¾è®¡å“²å­¦
- å­¦ä¹ å¦‚ä½•æ„å»ºå¤æ‚çš„ hybridservice æ’ä»¶
- äº†è§£ VCP çš„å†…éƒ¨å®ç°æœºåˆ¶

### ğŸš€ æ¨èå­¦ä¹ è·¯å¾„

**é›¶åŸºç¡€å¼€å‘è€…** (ä»æœªå†™è¿‡æ’ä»¶)ï¼š
```
1. é˜…è¯»æœ¬æ–‡æ¡£ï¼ˆç¬¬0-2ç« ï¼‰
   â”œâ”€ ç†è§£ VCP çš„ä¼˜åŠ¿
   â””â”€ äº†è§£åŸºæœ¬æ¦‚å¿µ

2. é˜…è¯»ã€ŠåŒæ­¥å¼‚æ­¥æ’ä»¶å¼€å‘æ‰‹å†Œã€‹
   â”œâ”€ ç¬¬1-3ç« ï¼šç†è§£æ ¸å¿ƒæœºåˆ¶
   â”œâ”€ ç¬¬3.1èŠ‚ï¼šå†™ä¸ªæœ€ç®€å•çš„ Echo æ’ä»¶
   â””â”€ ç¬¬3.2èŠ‚ï¼šå°è¯•å¤šæ¨¡æ€è¿”å›

3. å‚è€ƒå®˜æ–¹ç¤ºä¾‹
   â”œâ”€ å…ˆçœ‹ SciCalculatorï¼ˆæœ€ç®€å•ï¼‰
   â”œâ”€ å†çœ‹ FileOperatorï¼ˆå¤šæŒ‡ä»¤ï¼‰
   â””â”€ æœ€åçœ‹ DMXDoubaoGenï¼ˆå¤šæ¨¡æ€ï¼‰

4. å¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶ï¼
```

**MCP è¿ç§»è€…** (å·²æœ‰ MCP Server)ï¼š
```
1. é˜…è¯»æœ¬æ–‡æ¡£ç¬¬2ç« ï¼ˆè¿ç§»æŒ‡å—ï¼‰
   â””â”€ 3æ­¥è¿ç§»æ³•

2. é˜…è¯»ã€ŠåŒæ­¥å¼‚æ­¥æ’ä»¶å¼€å‘æ‰‹å†Œã€‹ç¬¬1-3ç« 
   â””â”€ é‡ç‚¹å…³æ³¨ stdin/stdout æ¨¡å¼

3. é€‰ä¸€ä¸ªç®€å•çš„ MCP Server å¼€å§‹è¿ç§»
   â”œâ”€ æå–æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
   â”œâ”€ æ”¹å†™ä¸º VCP æ’ä»¶
   â””â”€ å¯¹æ¯”æ€§èƒ½æå‡

4. é€æ­¥è¿ç§»å…¶ä»–å·¥å…·
```

**VCP è¿›é˜¶è€…** (æƒ³æ·±å…¥ç†è§£)ï¼š
```
1. é˜…è¯»ã€ŠåŒæ­¥å¼‚æ­¥æ’ä»¶å¼€å‘æ‰‹å†Œã€‹å…¨æ–‡
   â”œâ”€ å¼‚æ­¥æ’ä»¶å¼€å‘
   â”œâ”€ è¶…æ ˆè¿½è¸ªæœºåˆ¶
   â””â”€ ä¸²è¡Œè°ƒç”¨æ„å»º

2. ç ”ç©¶ VCP æºç 
   â”œâ”€ Plugin.jsï¼ˆæ’ä»¶ç®¡ç†å™¨ï¼‰
   â”œâ”€ server.jsï¼ˆä¸»æœåŠ¡é€»è¾‘ï¼‰
   â””â”€ FileFetcherServer.jsï¼ˆåˆ†å¸ƒå¼æ–‡ä»¶å¤„ç†ï¼‰

3. é˜…è¯» VCP çŸ¥è¯†åº“æ–‡æ¡£
   â””â”€ æ·±å…¥ç†è§£è®¾è®¡å“²å­¦

4. è´¡çŒ®ä½ çš„æ’ä»¶åˆ°ç¤¾åŒºï¼
```

### ğŸ’¬ éœ€è¦å¸®åŠ©ï¼Ÿ

**å®˜æ–¹æ¸ é“**ï¼š
- ğŸ“§ GitHub Issues: [æäº¤é—®é¢˜](https://github.com/lioensky/VCPToolBox/issues)
- ğŸ’¬ ç¤¾åŒºè®¨è®º: åœ¨ GitHub Discussions ä¸å…¶ä»–å¼€å‘è€…äº¤æµ

**ç¤¾åŒºèµ„æº**ï¼š
- ğŸ“ æœ¬æ–‡æ¡£: ç†è§£ VCP çš„ä¼˜åŠ¿å’Œè¿ç§»æ–¹æ³•
- ğŸ“˜ å®˜æ–¹æ‰‹å†Œ: å®Œæ•´çš„å¼€å‘æŒ‡å—
- ğŸ’¡ ç¤ºä¾‹æ’ä»¶: å­¦ä¹ æœ€ä½³å®è·µ

*ï¼ˆVCP ç¤¾åŒºå¾ˆå‹å¥½ï¼Œä¸ç”¨å®³ç¾ï¼Œæœ‰é—®é¢˜å°±é—®å–µï½ à¸…'Ï‰'à¸…ï¼‰*

---

## ç»“è¯­ï¼šVCP çš„æœªæ¥

**æµ®æµ®é…±æƒ³è¯´**ï¼š

VCP ä¸æ˜¯ä¸ºäº†æ›¿ä»£ MCPï¼Œè€Œæ˜¯ä¸ºäº†**è¡¥å……** MCP çš„ä¸è¶³ã€‚

- **MCP å¾ˆå¥½** - æ ‡å‡†åŒ–ã€è·¨å¹³å°ã€ç”Ÿæ€ä¸°å¯Œ
- **VCP æ›´å¼º** - æç®€ã€é«˜æ€§èƒ½ã€æ·±åº¦é›†æˆ

**æœ€ä½³å®è·µ**ï¼š
```
VCP æ ¸å¿ƒæ’ä»¶ï¼ˆé«˜é¢‘ã€æœ¬åœ°ã€å¤æ‚é€»è¾‘ï¼‰
    +
MCPO æ¡¥æ¥ï¼ˆé€šç”¨å·¥å…·ã€ç¬¬ä¸‰æ–¹ APIï¼‰
    =
å®Œç¾çš„ AI å·¥å…·è°ƒç”¨è§£å†³æ–¹æ¡ˆ
```

**2025 å¹´äº†**ï¼Œæ˜¯æ—¶å€™è®©ä½ çš„ AI å·¥å…·ï¼š
- âš¡ **å¿«åˆ°é£èµ·** - 0.8ms vs 45ms
- ğŸ¯ **ç®€å•åˆ°å“­** - 10 è¡Œ vs 100 è¡Œ
- ğŸ’ª **å¼ºåˆ°çˆ†è¡¨** - messagePreprocessorã€staticã€service...

**å¼€å§‹ä½ çš„ VCP ä¹‹æ—…å§ï¼** o(*ï¿£ï¸¶ï¿£*)o

---

**æ„Ÿè°¢é˜…è¯»ï¼** â™¡

*è·¯è¾¹ä¸€æ¡å°ç™½ & å¹½æµ®å–µ*
*2025å¹´*

---

> **æ³¨**: åŸæ–‡æ¡£çš„ç¬¬3-6ç« ï¼ˆVCP æ’ä»¶ç³»ç»Ÿæ¶æ„ã€æ’ä»¶ç±»å‹å®Œå…¨æŒ‡å—ã€å¼€å‘å®è·µã€æœ€ä½³å®è·µï¼‰å·²è¢«ç§»é™¤ã€‚
>
> è¿™äº›è¯¦ç»†çš„æŠ€æœ¯å†…å®¹ç°åœ¨ç»Ÿä¸€ç”±å®˜æ–¹çš„ã€ŠåŒæ­¥å¼‚æ­¥æ’ä»¶å¼€å‘æ‰‹å†Œ.mdã€‹æä¾›ï¼Œå†…å®¹æ›´æƒå¨ã€æ›´å®Œæ•´ã€æ›´æ–°æ›´åŠæ—¶ã€‚
>
> æœ¬æ–‡æ¡£ä¸“æ³¨äºï¼šVCP çš„è¯ç”Ÿç†å¿µã€æ ¸å¿ƒä¼˜åŠ¿å¯¹æ¯”ã€MCP è¿ç§»æŒ‡å—ï¼Œä»¥åŠå®˜æ–¹èµ„æºå¯¼èˆªã€‚
>
> **æƒ³æ·±å…¥å¼€å‘ï¼Ÿ** è¯·é˜…è¯»å®˜æ–¹å¼€å‘æ‰‹å†Œï¼ğŸš€
